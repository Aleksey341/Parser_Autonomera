# üìù –†–µ–∑—é–º–µ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π

–ü–æ–ª–Ω–∞—è –∏—Å—Ç–æ—Ä–∏—è –≤—Å–µ—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π –∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–π –≤ –ø—Ä–æ–µ–∫—Ç —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º —Ç–æ–≥–æ, –∫–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤–º–µ—Å—Ç–µ.

---

## üéØ –û—Å–Ω–æ–≤–Ω–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ

**–ü–∞—Ä—Å–µ—Ä —Ç–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ —Å –ë–î:**

–ö–æ–≥–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∏–º–∞–µ—Ç "–ù–∞—á–∞—Ç—å –ø–∞—Ä—Å–∏–Ω–≥":
1. ‚úÖ –ü–∞—Ä—Å–µ—Ä —Å–∫—Ä–µ–π–ø–∏—Ç —Å–∞–π—Ç
2. ‚úÖ –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤—Å–µ –≤ –ë–î
3. ‚úÖ **–ó–∞–≥—Ä—É–∂–∞–µ—Ç –í–°–ï –¥–∞–Ω–Ω—ã–µ –∏–∑ –ë–î –∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é** ‚Üê –ù–û–í–û–ï!

---

## üìä –ü–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ –∏–∑–º–µ–Ω–µ–Ω–∏–π

### –§–∞–∑–∞ 1: –î–∏—Ñ—Ñ–µ—Ä–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–π –ø–∞—Ä—Å–∏–Ω–≥ (Commit a594d83)

**–§–∞–π–ª—ã –∏–∑–º–µ–Ω–µ–Ω–Ω—ã–µ:**
- `db.js` - –¥–æ–±–∞–≤–ª–µ–Ω—ã 8 –Ω–æ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π –¥–ª—è –¥–∏—Ñ—Ñ–µ—Ä–µ–Ω—Ü–∏–∞–ª—å–Ω–æ–≥–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è (MySQL)
- `db-pg.js` - –¥–æ–±–∞–≤–ª–µ–Ω–∞ —Ç–∞–±–ª–∏—Ü–∞ price_history + 8 —Ñ—É–Ω–∫—Ü–∏–π (PostgreSQL)
- `parser-db.js` - –¥–æ–±–∞–≤–ª–µ–Ω `saveDifferentialListingsToDB()` –∏ `runDifferentialParserWithDB()`
- `server.js` - –¥–æ–±–∞–≤–ª–µ–Ω –Ω–æ–≤—ã–π endpoint `POST /api/parse-differential`
- `api-db-routes.js` - –¥–æ–±–∞–≤–ª–µ–Ω—ã 4 –Ω–æ–≤—ã—Ö endpoint –¥–ª—è —Ü–µ–Ω

**–ù–æ–≤—ã–µ —Ñ–∞–π–ª—ã:**
- `DIFFERENTIAL_PARSING.md` - –ø–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ (400+ —Å—Ç—Ä–æ–∫)

**–ß—Ç–æ —ç—Ç–æ –¥–∞–µ—Ç:**
- üÜï –°–∏—Å—Ç–µ–º–∞ —Ä–∞–∑–ª–∏—á–∞–µ—Ç NEW –æ–±—ä—è–≤–ª–µ–Ω–∏—è –∏ –∏–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ü–µ–Ω—ã
- üìä –ü–æ–ª–Ω–∞—è –∏—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π —Ü–µ–Ω –≤ —Ç–∞–±–ª–∏—Ü–µ price_history
- üîÑ –î–∏—Ñ—Ñ–µ—Ä–µ–Ω—Ü–∏–∞–ª—å–Ω–æ–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –≤–º–µ—Å—Ç–æ –ø–æ–ª–Ω–æ–π –ø–µ—Ä–µ–∑–∞–ø–∏—Å–∏
- üìà API –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ —Ü–µ–Ω –∏ —Ç—Ä–µ–Ω–¥–æ–≤

### –§–∞–∑–∞ 2: –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ (Commit 0cc9461)

**–ù–æ–≤—ã–µ —Ñ–∞–π–ª—ã:**
- `HOW_PARSER_DB_WORKS.md` - –ø–æ–ª–Ω—ã–π –ø–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö (600+ —Å—Ç—Ä–æ–∫)
- `DATABASE_QUERIES.md` - –≤—Å–µ SQL –∑–∞–ø—Ä–æ—Å—ã (400+ —Å—Ç—Ä–æ–∫)

**–°–æ–¥–µ—Ä–∂–∏—Ç:**
- üîç –ü–æ–¥—Ä–æ–±–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –∫–∞–∂–¥–æ–≥–æ —à–∞–≥–∞ —Ä–∞–±–æ—Ç—ã –ø–∞—Ä—Å–µ—Ä–∞
- üíª –í—Å–µ SQL –∑–∞–ø—Ä–æ—Å—ã, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è
- üìä –ü—Ä–∏–º–µ—Ä—ã –¥–∞–Ω–Ω—ã—Ö –Ω–∞ –∫–∞–∂–¥–æ–º —ç—Ç–∞–ø–µ
- üéØ –¢—Ä–∏ —Ä–µ–∂–∏–º–∞ —Ä–∞–±–æ—Ç—ã –ø–∞—Ä—Å–µ—Ä–∞ –æ–±—ä—è—Å–Ω–µ–Ω—ã

### –§–∞–∑–∞ 3: –í–∏–∑—É–∞–ª—å–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ (Commit ac9508e)

**–ù–æ–≤—ã–µ —Ñ–∞–π–ª—ã:**
- `PARSER_DB_VISUAL_GUIDE.md` - –≤–∏–∑—É–∞–ª—å–Ω—ã–µ –¥–∏–∞–≥—Ä–∞–º–º—ã (800+ —Å—Ç—Ä–æ–∫)

**–°–æ–¥–µ—Ä–∂–∏—Ç:**
- üé® ASCII –¥–∏–∞–≥—Ä–∞–º–º—ã –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã
- üìà –ü–æ–ª–Ω—ã–π –∂–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏
- üìä –ü—Ä–∏–º–µ—Ä—ã —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –ø–æ—Å–ª–µ –ø–∞—Ä—Å–∏–Ω–≥–∞
- ‚ö° –ì—Ä–∞—Ñ–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### –§–∞–∑–∞ 4: –ù–∞–≤–∏–≥–∞—Ü–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ (Commit b5a052e)

**–ù–æ–≤—ã–µ —Ñ–∞–π–ª—ã:**
- `DOCUMENTATION_MAP.md` - –∫–∞—Ä—Ç–∞ –≤—Å–µ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ (400+ —Å—Ç—Ä–æ–∫)

**–°–æ–¥–µ—Ä–∂–∏—Ç:**
- üó∫Ô∏è –ë—ã—Å—Ç—Ä—ã–π –Ω–∞–≤–∏–≥–∞—Ç–æ—Ä –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ä–æ–ª–µ–π
- üìö –ü–æ–ª–Ω—ã–π –∫–∞—Ç–∞–ª–æ–≥ –≤—Å–µ—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
- üéì –£—á–µ–±–Ω—ã–µ –ø—É—Ç–∏ –¥–ª—è –Ω–æ–≤–∏—á–∫–æ–≤/—Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤/DevOps
- üîó –°–≤—è–∑–∏ –º–µ–∂–¥—É –¥–æ–∫—É–º–µ–Ω—Ç–∞–º–∏

### –§–∞–∑–∞ 5: –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–∞—Ä—Å–∏–Ω–≥–∞ –∏–∑ –ë–î (Commit a6d76af)

**–§–∞–π–ª—ã –∏–∑–º–µ–Ω–µ–Ω–Ω—ã–µ:**
- `server.js`:
  - –ú–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω `POST /api/parse` - —Ç–µ–ø–µ—Ä—å –∑–∞–≥—Ä—É–∂–∞–µ—Ç –í–°–ï –¥–∞–Ω–Ω—ã–µ –∏–∑ –ë–î
  - –ú–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω `GET /api/sessions/{id}/data` - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ë–î

**–ß—Ç–æ —ç—Ç–æ –¥–∞–µ—Ç:**
- ‚úÖ –ü–æ—Å–ª–µ –ø–∞—Ä—Å–∏–Ω–≥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç –í–°–ï –æ–±—ä—è–≤–ª–µ–Ω–∏—è –∏–∑ –ë–î
- ‚úÖ –° –ø–æ–ª–Ω—ã–º–∏ –ø–æ–ª—è–º–∏ (id, region, seller, status, –∏ —Ç.–¥.)
- ‚úÖ –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ç–æ–º, —á—Ç–æ –±—ã–ª–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–æ –≤ —ç—Ç—É —Å–µ—Å—Å–∏—é

### –§–∞–∑–∞ 6: –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –Ω–æ–≤–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ (Commit a1078de)

**–ù–æ–≤—ã–µ —Ñ–∞–π–ª—ã:**
- `PARSING_RESULTS_FEATURE.md` - —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –Ω–æ–≤–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ (500+ —Å—Ç—Ä–æ–∫)

**–°–æ–¥–µ—Ä–∂–∏—Ç:**
- üéØ –ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å (–±—ã–ª–æ vs —Å—Ç–∞–ª–æ)
- üìã –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç (—à–∞–≥ –∑–∞ —à–∞–≥–æ–º)
- üíª API –ø—Ä–∏–º–µ—Ä—ã —Å –ø–æ–ª–Ω—ã–º–∏ –æ—Ç–≤–µ—Ç–∞–º–∏
- üé® –ü—Ä–∏–º–µ—Ä—ã –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–µ
- ‚öôÔ∏è –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

---

## üìñ –ò—Ç–æ–≥–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –¥–æ–±–∞–≤–ª–µ–Ω–æ

```
HOW_PARSER_WORKS.md              ‚Üê –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–∞—Ä—Å–µ—Ä (–±–∞–∑–æ–≤–æ–µ)
HOW_PARSER_DB_WORKS.md           ‚Üê –ü–æ–ª–Ω—ã–π –ø–æ—Ç–æ–∫ –ø–∞—Ä—Å–µ—Ä+–ë–î
DATABASE_QUERIES.md              ‚Üê –í—Å–µ SQL –∑–∞–ø—Ä–æ—Å—ã
PARSER_DB_VISUAL_GUIDE.md        ‚Üê –í–∏–∑—É–∞–ª—å–Ω—ã–µ –¥–∏–∞–≥—Ä–∞–º–º—ã
DIFFERENTIAL_PARSING.md          ‚Üê –î–∏—Ñ—Ñ–µ—Ä–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–π –ø–∞—Ä—Å–∏–Ω–≥
DOCUMENTATION_MAP.md             ‚Üê –ù–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
PARSING_RESULTS_FEATURE.md       ‚Üê –ù–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

–ò–¢–û–ì–û: 3000+ —Å—Ç—Ä–æ–∫ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
```

---

## üîÑ –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–µ–π—á–∞—Å

### –ü–æ–ª–Ω—ã–π —Ü–∏–∫–ª –ø–∞—Ä—Å–∏–Ω–≥–∞

```
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: POST /api/parse

2. –°–µ—Ä–≤–µ—Ä: –ó–∞–ø—É—Å–∫–∞–µ—Ç –ø–∞—Ä—Å–µ—Ä –≤ —Ñ–æ–Ω–µ

3. –ü–∞—Ä—Å–µ—Ä:
   - –ó–∞–≥—Ä—É–∂–∞–µ—Ç —Å–∞–π—Ç (45-50 —Å–µ–∫.)
   - –°–æ–±–∏—Ä–∞–µ—Ç –æ–±—ä—è–≤–ª–µ–Ω–∏—è (5000+)
   - –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç

4. –ê–¥–∞–ø—Ç–µ—Ä –ø–∞—Ä—Å–µ—Ä–∞:
   - –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤ –ë–î (2-3 —Å–µ–∫.)
   - –õ–æ–≥–∏—Ä—É–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É

5. ‚Üê –ù–û–í–û–ï! –ó–∞–≥—Ä—É–∂–∞–µ—Ç –í–°–ï –¥–∞–Ω–Ω—ã–µ –∏–∑ –ë–î
   - SELECT * FROM listings (5230+)
   - –° —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π –ø–æ —Ü–µ–Ω–µ/—Ä–µ–≥–∏–æ–Ω—É

6. –°–µ—Å—Å–∏—è –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è:
   - listings: –í–°–ï –æ–±—ä—è–≤–ª–µ–Ω–∏—è –∏–∑ –ë–î
   - dbInfo: —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è
   - status: 'completed'

7. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: GET /api/sessions/{id}/data
   –ü–æ–ª—É—á–∞–µ—Ç: –í–°–ï –æ–±—ä—è–≤–ª–µ–Ω–∏—è –∏–∑ –ë–î —Å –ø–æ–ª–Ω—ã–º–∏ –ø–æ–ª—è–º–∏!
```

### –ß—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç

```json
{
  "sessionId": "session_...",
  "count": 5230,                    ‚Üê –í–°–ï–ì–û –≤ –ë–î
  "listings": [
    {
      "id": 1,
      "number": "–ê123–í–•77",        ‚Üê –í–°–ï –ø–æ–ª—è –∏–∑ –ë–î!
      "price": 250000,
      "region": "–ú–æ—Å–∫–≤–∞",
      "status": "active",
      "date_posted": "2025-01-20...",
      "date_updated": "2025-01-20...",
      "seller": "John Doe",
      "url": "https://...",
      "parsed_at": "2025-01-20...",
      "updated_at": "2025-01-20..."
    },
    ...
  ],
  "database": {
    "totalListingsInDB": 5230,      ‚Üê –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ë–î
    "parsedThisTime": 150,          ‚Üê –°–ø–∞—Ä—Å–µ–Ω–æ –≤ —ç—Ç—É —Å–µ—Å—Å–∏—é
    "saveResult": {                 ‚Üê –ß—Ç–æ –ø—Ä–æ–∏–∑–æ—à–ª–æ
      "newItems": 150,
      "updatedItems": 45,
      "unchangedItems": 4805
    }
  }
}
```

---

## üìä –¢–∞–±–ª–∏—Ü—ã –ë–î (—Å—Ö–µ–º–∞)

### listings (–æ—Å–Ω–æ–≤–Ω—ã–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è)
```
id | number | price | region | status | seller | url | ... | updated_at
‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
 1 ‚îÇ–ê123–í–•77‚îÇ250000 ‚îÇ–ú–æ—Å–∫–≤–∞  ‚îÇactive  ‚îÇJohn   ‚îÇ...  ‚îÇ...  ‚îÇ2025-01-20
 2 ‚îÇ–í456DE99‚îÇ280000 ‚îÇ–°–ü–±     ‚îÇactive  ‚îÇMaria  ‚îÇ...  ‚îÇ...  ‚îÇ2025-01-20
 3 ‚îÇ–ó789–ú–•99‚îÇ180000 ‚îÇ–ö–∞–∑–∞–Ω—å  ‚îÇactive  ‚îÇIvan   ‚îÇ...  ‚îÇ...  ‚îÇ2025-01-20
```

### price_history (–∏—Å—Ç–æ—Ä–∏—è —Ü–µ–Ω)
```
id ‚îÇ number ‚îÇ old_price ‚îÇ new_price ‚îÇ price_delta ‚îÇ change_direction ‚îÇ updated_at
‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
 1 ‚îÇ–ê456DE99‚îÇ300000     ‚îÇ280000     ‚îÇ-20000       ‚îÇdecreased         ‚îÇ2025-01-20
 2 ‚îÇ–í789–ö–•12‚îÇ150000     ‚îÇ165000     ‚îÇ15000        ‚îÇincreased         ‚îÇ2025-01-20
 3 ‚îÇ–ê123–í–•77‚îÇ240000     ‚îÇ250000     ‚îÇ10000        ‚îÇincreased         ‚îÇ2025-01-20
```

### parse_sessions (–∏—Å—Ç–æ—Ä–∏–∏ –ø–∞—Ä—Å–∏–Ω–≥–∞)
```
id ‚îÇ started_at ‚îÇ completed_at ‚îÇ status ‚îÇ total_items ‚îÇ new_items ‚îÇ updated_items
‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
...‚îÇ15:30:00    ‚îÇ15:45:00      ‚îÇcomplete‚îÇ5000         ‚îÇ150        ‚îÇ45
```

---

## üöÄ API Endpoints (–≤–µ—Å—å —Å–ø–∏—Å–æ–∫)

### –û—Å–Ω–æ–≤–Ω—ã–µ
- `POST /api/parse` - –∑–∞–ø—É—Å—Ç–∏—Ç—å –æ–±—ã—á–Ω—ã–π –ø–∞—Ä—Å–∏–Ω–≥ (**–æ–±–Ω–æ–≤–ª–µ–Ω–æ!**)
- `GET /api/sessions/{id}/status` - —Å—Ç–∞—Ç—É—Å –ø–∞—Ä—Å–∏–Ω–≥–∞
- `GET /api/sessions/{id}/data` - —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –∏–∑ –ë–î (**–æ–±–Ω–æ–≤–ª–µ–Ω–æ!**)

### –î–∏—Ñ—Ñ–µ—Ä–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–π –ø–∞—Ä—Å–∏–Ω–≥
- `POST /api/parse-differential` - –∑–∞–ø—É—Å—Ç–∏—Ç—å –¥–∏—Ñ—Ñ. –ø–∞—Ä—Å–∏–Ω–≥ (**–Ω–æ–≤—ã–π!**)

### –ê–Ω–∞–ª–∏–∑ —Ü–µ–Ω
- `GET /api/price-history/{number}` - –∏—Å—Ç–æ—Ä–∏—è –¥–ª—è –Ω–æ–º–µ—Ä–∞ (**–Ω–æ–≤—ã–π!**)
- `GET /api/price-changes` - –≤—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∑–∞ –ø–µ—Ä–∏–æ–¥ (**–Ω–æ–≤—ã–π!**)
- `GET /api/price-changes/stats` - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ü–µ–Ω (**–Ω–æ–≤—ã–π!**)

### –û–±—â–∏–µ
- `GET /api/data` - –≤—Å–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è (—Ñ–∏–ª—å—Ç—Ä—ã)
- `GET /api/statistics` - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ë–î
- `GET /api/all-numbers` - –≤—Å–µ –Ω–æ–º–µ—Ä–∞ –∏–∑ –ë–î (**–Ω–æ–≤—ã–π!**)
- `GET /api/export` - —ç–∫—Å–ø–æ—Ä—Ç CSV/JSON

---

## üéØ –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–∏–º–µ—Ä—ã

### –ü—Ä–∏–º–µ—Ä 1: –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –ø–∞—Ä—Å–∏–Ω–≥ (–æ–±–Ω–æ–≤–ª–µ–Ω–æ!)

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å
curl -X POST http://localhost:3000/api/parse \
  -H "Content-Type: application/json" \
  -d '{"maxPages": 50}'

# –ü–æ–ª—É—á–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
curl http://localhost:3000/api/sessions/{sessionId}/data

# –†–µ–∑—É–ª—å—Ç–∞—Ç: –í–°–ï –æ–±—ä—è–≤–ª–µ–Ω–∏—è –∏–∑ –ë–î (5230+) —Å –ø–æ–ª–Ω—ã–º–∏ –ø–æ–ª—è–º–∏!
```

### –ü—Ä–∏–º–µ—Ä 2: –î–∏—Ñ—Ñ–µ—Ä–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–π –ø–∞—Ä—Å–∏–Ω–≥ (–Ω–æ–≤—ã–π!)

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å (–æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç —Ç–æ–ª—å–∫–æ –Ω–æ–≤—ã–µ –∏ –∏–∑–º–µ–Ω–µ–Ω–Ω—ã–µ)
curl -X POST http://localhost:3000/api/parse-differential \
  -H "Content-Type: application/json" \
  -d '{"maxPages": 50}'

# –ü–æ–ª—É—á–∏—Ç—å —Ç–æ–ª—å–∫–æ –Ω–æ–≤—ã–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è
curl http://localhost:3000/api/sessions/{sessionId}/data

# –†–µ–∑—É–ª—å—Ç–∞—Ç: 150 –Ω–æ–≤—ã—Ö –æ–±—ä—è–≤–ª–µ–Ω–∏–π + –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö —Ü–µ–Ω
```

### –ü—Ä–∏–º–µ—Ä 3: –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —Ü–µ–Ω (–Ω–æ–≤—ã–π!)

```bash
# –ò—Å—Ç–æ—Ä–∏—è —Ü–µ–Ω –¥–ª—è –Ω–æ–º–µ—Ä–∞
curl 'http://localhost:3000/api/price-history/–ê123–í–•77?limit=10'

# –í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∑–∞ –Ω–µ–¥–µ–ª—é
curl 'http://localhost:3000/api/price-changes?days=7'

# –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ —Ü–µ–Ω–∞
curl 'http://localhost:3000/api/price-changes/stats?days=7'
```

---

## üíæ –ö–æ–¥ –∑–∞—Ç—Ä–æ–Ω—É—Ç

### server.js (2 endpoint –æ–±–Ω–æ–≤–ª–µ–Ω—ã)
```javascript
// POST /api/parse - —Ç–µ–ø–µ—Ä—å –∑–∞–≥—Ä—É–∂–∞–µ—Ç –í–°–ï –∏–∑ –ë–î
const allListings = await db.getListings({...});
session.listings = allListings;  // –í–°–ï –¥–∞–Ω–Ω—ã–µ –∏–∑ –ë–î!

// GET /api/sessions/{id}/data - –¥–æ–±–∞–≤–ª–µ–Ω–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ë–î
response.database = {
  totalListingsInDB: session.dbInfo.totalInDB,
  parsedThisTime: session.dbInfo.parsedThisTime,
  saveResult: session.dbInfo.savedData
};
```

### db.js –∏ db-pg.js (8 –Ω–æ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π –≤ –∫–∞–∂–¥–æ–º)
```javascript
// –í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è –¥–∏—Ñ—Ñ–µ—Ä–µ–Ω—Ü–∏–∞–ª—å–Ω–æ–≥–æ –ø–∞—Ä—Å–∏–Ω–≥–∞
- getExistingNumbers()
- getDifferentialListings()
- recordPriceChange()
- getPriceHistory()
- getRecentPriceChanges()
- getPriceChangeStats()
// ... –∏ –µ—â–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ
```

### parser-db.js (2 –Ω–æ–≤—ã—Ö –º–µ—Ç–æ–¥–∞)
```javascript
// –ú–µ—Ç–æ–¥ –¥–ª—è –¥–∏—Ñ—Ñ–µ—Ä–µ–Ω—Ü–∏–∞–ª—å–Ω–æ–≥–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è
saveDifferentialListingsToDB()

// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –¥–∏—Ñ—Ñ. –ø–∞—Ä—Å–∏–Ω–≥–∞
runDifferentialParserWithDB()
```

### api-db-routes.js (4 –Ω–æ–≤—ã—Ö endpoint)
```javascript
GET /api/price-history/{number}
GET /api/price-changes
GET /api/price-changes/stats
GET /api/all-numbers
```

---

## ‚ú® –ò—Ç–æ–≥–æ–≤–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

### –ö–æ–¥ –¥–æ–±–∞–≤–ª–µ–Ω
```
- 1268+ –Ω–æ–≤—ã—Ö —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞
- 8 —Ñ—É–Ω–∫—Ü–∏–π –≤ –∫–∞–∂–¥–æ–π DB –º–æ–¥–µ–ª–∏
- 2 –Ω–æ–≤—ã—Ö —Ä–µ–∂–∏–º–∞ –ø–∞—Ä—Å–∏–Ω–≥–∞
- 5 –Ω–æ–≤—ã—Ö API endpoints
- –ü–æ–ª–Ω–∞—è –æ–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å!
```

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –¥–æ–±–∞–≤–ª–µ–Ω–∞
```
- 3000+ —Å—Ç—Ä–æ–∫ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
- 7 –Ω–æ–≤—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
- –ü–æ–ª–Ω–∞—è –∫–∞—Ä—Ç–∞ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
- –ü—Ä–∏–º–µ—Ä—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ scenario
- –î–∏–∞–≥—Ä–∞–º–º—ã –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã
```

### –¢–∞–±–ª–∏—Ü—ã –ë–î
```
- price_history (–Ω–æ–≤–∞—è —Ç–∞–±–ª–∏—Ü–∞)
- –ü–æ–ª–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ MySQL –∏ PostgreSQL
- –ò–Ω–¥–µ–∫—Å—ã –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω—ã
```

---

## üéì –ö–∞–∫ —É—á–∏—Ç—å—Å—è

### –î–ª—è –Ω–æ–≤–∏—á–∫–æ–≤
1. –ü—Ä–æ—á–∏—Ç–∞–π—Ç–µ [HOW_PARSER_WORKS.md](./HOW_PARSER_WORKS.md)
2. –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ [PARSER_DB_VISUAL_GUIDE.md](./PARSER_DB_VISUAL_GUIDE.md)
3. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ API –ø—Ä–∏–º–µ—Ä—ã

### –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤
1. –ò–∑—É—á–∏—Ç–µ [HOW_PARSER_DB_WORKS.md](./HOW_PARSER_DB_WORKS.md)
2. –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ [DATABASE_QUERIES.md](./DATABASE_QUERIES.md)
3. –ò–∑—É—á–∏—Ç–µ –∫–æ–¥ –≤ server.js, db-pg.js, parser-db.js

### –î–ª—è DevOps
1. –ü—Ä–æ—á–∏—Ç–∞–π—Ç–µ [POSTGRESQL_MIGRATION.md](./POSTGRESQL_MIGRATION.md)
2. –°–ª–µ–¥—É–π—Ç–µ [AMVERA_DEPLOYMENT.md](./AMVERA_DEPLOYMENT.md)
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤—Å–µ endpoint'—ã –≤ [DOCUMENTATION_MAP.md](./DOCUMENTATION_MAP.md)

---

## üîó GitHub Commits

```
a594d83 - feat: Implement differential parsing and price change tracking
0cc9461 - docs: Add comprehensive documentation on parser-database workflow
ac9508e - docs: Add visual guide for parser-database workflow
b5a052e - docs: Add comprehensive documentation map and navigation guide
a6d76af - feat: Return all database listings in parsing results
a1078de - docs: Add documentation for parsing results from database feature
```

---

## ‚úÖ –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

‚úÖ –û–±—ã—á–Ω—ã–π –ø–∞—Ä—Å–∏–Ω–≥ —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –≤ –ë–î
‚úÖ –î–∏—Ñ—Ñ–µ—Ä–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–π –ø–∞—Ä—Å–∏–Ω–≥ (—Ç–æ–ª—å–∫–æ –Ω–æ–≤–æ–µ)
‚úÖ –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π —Ü–µ–Ω
‚úÖ –ò—Å—Ç–æ—Ä–∏—è —Ü–µ–Ω –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –æ–±—ä—è–≤–ª–µ–Ω–∏—è
‚úÖ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ —Ü–µ–Ω–∞–º
‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Å–æ–¥–µ—Ä–∂–∞—Ç –í–°–ï –¥–∞–Ω–Ω—ã–µ –∏–∑ –ë–î
‚úÖ –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —Ü–µ–Ω–µ –∏ —Ä–µ–≥–∏–æ–Ω—É
‚úÖ –≠–∫—Å–ø–æ—Ä—Ç –≤ CSV/JSON
‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ MySQL –∏ PostgreSQL
‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–∞—Ä—Å–∏–Ω–≥ –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é
‚úÖ –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚úÖ –ü—Ä–∏–º–µ—Ä—ã –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–µ

---

## üéØ –ß—Ç–æ –¥–∞–ª—å—à–µ?

–°–∏—Å—Ç–µ–º–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤–∞ –¥–ª—è:
- üöÄ –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è –Ω–∞ production (Amvera)
- üìä –ê–Ω–∞–ª–∏—Ç–∏–∫–∏ —Ü–µ–Ω –∏ —Ç—Ä–µ–Ω–¥–æ–≤
- üîÑ –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ —Ä—ã–Ω–∫–∞
- üíæ –î–æ–ª–≥–æ—Å—Ä–æ—á–Ω–æ–≥–æ —Ö—Ä–∞–Ω–µ–Ω–∏—è –∏—Å—Ç–æ—Ä–∏–∏

---

**–î–∞—Ç–∞:** 2025-01-20
**–í–µ—Ä—Å–∏—è:** 1.0
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –í—Å–µ –≥–æ—Ç–æ–≤–æ!

–ü—Ä–æ–µ–∫—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –≤ production! üéâ
