# üé® –í–∏–∑—É–∞–ª—å–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ: –ü–∞—Ä—Å–µ—Ä –∏ –ë–î

–ù–∞–≥–ª—è–¥–Ω—ã–µ –¥–∏–∞–≥—Ä–∞–º–º—ã, —Å—Ö–µ–º—ã –∏ –ø—Ä–∏–º–µ—Ä—ã —Ç–æ–≥–æ, –∫–∞–∫ –ø–∞—Ä—Å–µ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö.

---

## 1. –û–±—â–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                                                                           ‚îÇ
‚îÇ                         –ö–õ–ò–ï–ù–¢ (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å)                            ‚îÇ
‚îÇ         –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç HTTP –∑–∞–ø—Ä–æ—Å—ã, –ø–æ–ª—É—á–∞–µ—Ç JSON —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã               ‚îÇ
‚îÇ                                                                           ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                           ‚îÇ
                           ‚Üì
        ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
        ‚îÇ          EXPRESS –ü–†–ò–õ–û–ñ–ï–ù–ò–ï (server.js)           ‚îÇ
        ‚îÇ                                                   ‚îÇ
        ‚îÇ  POST /api/parse                                 ‚îÇ
        ‚îÇ  POST /api/parse-differential    ‚Üê –ù–û–í–´–ô!        ‚îÇ
        ‚îÇ  GET /api/sessions/{id}/status                   ‚îÇ
        ‚îÇ  GET /api/sessions/{id}/data                     ‚îÇ
        ‚îÇ  GET /api/price-changes          ‚Üê –ù–û–í–´–ô!        ‚îÇ
        ‚îÇ                                                   ‚îÇ
        ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                       ‚îÇ
        ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
        ‚îÇ                                 ‚îÇ
        ‚Üì                                 ‚Üì
   ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê            ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
   ‚îÇ  PARSER     ‚îÇ            ‚îÇ PARSER-DB ADAPTER    ‚îÇ
   ‚îÇ (parser.js) ‚îÇ            ‚îÇ (parser-db.js)       ‚îÇ
   ‚îÇ             ‚îÇ            ‚îÇ                      ‚îÇ
   ‚îÇ ‚Ä¢ Puppeteer ‚îÇ            ‚îÇ ‚Ä¢ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Å—Å–∏—è–º–∏‚îÇ
   ‚îÇ ‚Ä¢ Cheerio   ‚îÇ            ‚îÇ ‚Ä¢ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –ë–î    ‚îÇ
   ‚îÇ ‚Ä¢ –ë–∞—Ç—á–∏    ‚îÇ            ‚îÇ ‚Ä¢ –î–∏—Ñ—Ñ–µ—Ä–µ–Ω—Ü–∏–∞–ª—å–Ω–æ–µ   ‚îÇ
   ‚îÇ ‚Ä¢ 5000 obj. ‚îÇ            ‚îÇ   —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ          ‚îÇ
   ‚îÇ             ‚îÇ            ‚îÇ                      ‚îÇ
   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò            ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
        ‚îÇ                                ‚îÇ
        ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                     ‚îÇ
                     ‚Üì
        ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
        ‚îÇ  DATABASE LAYER                ‚îÇ
        ‚îÇ  (db.js –∏–ª–∏ db-pg.js)          ‚îÇ
        ‚îÇ                                ‚îÇ
        ‚îÇ ‚Ä¢ getExistingNumbers()         ‚îÇ
        ‚îÇ ‚Ä¢ getDifferentialListings()    ‚îÇ
        ‚îÇ ‚Ä¢ insertOrUpdateListing()      ‚îÇ
        ‚îÇ ‚Ä¢ recordPriceChange()          ‚îÇ
        ‚îÇ ‚Ä¢ getPriceHistory()            ‚îÇ
        ‚îÇ ‚Ä¢ getRecentPriceChanges()      ‚îÇ
        ‚îÇ                                ‚îÇ
        ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                     ‚îÇ
                     ‚Üì
        ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
        ‚îÇ       –ë–ê–ó–ê –î–ê–ù–ù–´–•                      ‚îÇ
        ‚îÇ                                        ‚îÇ
        ‚îÇ ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îÇ
        ‚îÇ ‚îÇ listings     ‚îÇ  ‚îÇ parse_sessions   ‚îÇ ‚îÇ
        ‚îÇ ‚îÇ (–æ–±—ä—è–≤–ª–µ–Ω–∏—è) ‚îÇ  ‚îÇ (–∏—Å—Ç–æ—Ä–∏–∏)        ‚îÇ ‚îÇ
        ‚îÇ ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îÇ
        ‚îÇ                                        ‚îÇ
        ‚îÇ ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îÇ
        ‚îÇ ‚îÇprice_history ‚îÇ  ‚îÇ cron_logs        ‚îÇ ‚îÇ
        ‚îÇ ‚îÇ (—Ü–µ–Ω—ã)       ‚îÇ  ‚îÇ (–∞–≤—Ç–æ–ø–∞—Ä—Å–∏–Ω–≥)    ‚îÇ ‚îÇ
        ‚îÇ ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îÇ
        ‚îÇ                                        ‚îÇ
        ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## 2. –ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª –¥–∏—Ñ—Ñ–µ—Ä–µ–Ω—Ü–∏–∞–ª—å–Ω–æ–≥–æ –ø–∞—Ä—Å–∏–Ω–≥–∞

```
–≠–¢–ê–ü 1: –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

  –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:
  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
  ‚îÇ POST /api/parse-differential                    ‚îÇ
  ‚îÇ Content-Type: application/json                  ‚îÇ
  ‚îÇ                                                 ‚îÇ
  ‚îÇ {                                               ‚îÇ
  ‚îÇ   "maxPages": 50,                               ‚îÇ
  ‚îÇ   "minPrice": 100000,                           ‚îÇ
  ‚îÇ   "maxPrice": 500000,                           ‚îÇ
  ‚îÇ   "concurrentRequests": 500                     ‚îÇ
  ‚îÇ }                                               ‚îÇ
  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                        ‚îÇ
                        ‚Üì
  –°–µ—Ä–≤–µ—Ä:
  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
  ‚îÇ 1. –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è sessionId                              ‚îÇ
  ‚îÇ    sessionId = "session_1735404000000_abc123def"       ‚îÇ
  ‚îÇ                                                        ‚îÇ
  ‚îÇ 2. –°–æ–∑–¥–∞–µ—Ç—Å—è Parser                                    ‚îÇ
  ‚îÇ    parser = new AutonomeraParser(options)             ‚îÇ
  ‚îÇ                                                        ‚îÇ
  ‚îÇ 3. –°–µ—Å—Å–∏—è —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ –ø–∞–º—è—Ç–∏                         ‚îÇ
  ‚îÇ    sessions.set(sessionId, {                           ‚îÇ
  ‚îÇ      parser,                                           ‚îÇ
  ‚îÇ      status: 'running',                                ‚îÇ
  ‚îÇ      isDifferential: true,                             ‚îÇ
  ‚îÇ      progress: 0                                       ‚îÇ
  ‚îÇ    })                                                  ‚îÇ
  ‚îÇ                                                        ‚îÇ
  ‚îÇ 4. –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é                        ‚îÇ
  ‚îÇ    ‚úÖ { sessionId, status: 'started' }               ‚îÇ
  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò


–≠–¢–ê–ü 2: –ü–ê–†–°–ò–ù–ì –°–ê–ô–¢–ê
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

  parser.parse() ‚Äî –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –≤ —Ñ–æ–Ω–µ

  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
  ‚îÇ 1. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –±—Ä–∞—É–∑–µ—Ä (Puppeteer)          ‚îÇ
  ‚îÇ    browser = await puppeteer.launch()           ‚îÇ
  ‚îÇ                                                 ‚îÇ
  ‚îÇ 2. –ó–∞—Ö–æ–¥–∏–º –Ω–∞ —Å–∞–π—Ç                             ‚îÇ
  ‚îÇ    await page.goto('https://autonomera777.net')‚îÇ
  ‚îÇ                                                 ‚îÇ
  ‚îÇ 3. –ü–∞—Ä—Å–∏–º –æ–±—ä—è–≤–ª–µ–Ω–∏—è –∏–∑ HTML                   ‚îÇ
  ‚îÇ    listings = await page.evaluate(() => {...}) ‚îÇ
  ‚îÇ                                                 ‚îÇ
  ‚îÇ 4. –ü–æ–≤—Ç–æ—Ä—è–µ–º –¥–ª—è –∫–∞–∂–¥–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã (–¥–æ 50)      ‚îÇ
  ‚îÇ    for (let page = 1; page <= maxPages; page++)‚îÇ
  ‚îÇ                                                 ‚îÇ
  ‚îÇ 5. –í—Å–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –ø–∞–º—è—Ç–∏         ‚îÇ
  ‚îÇ    this.listings = [...]  (5000+ –æ–±—ä—è–≤–ª–µ–Ω–∏–π)  ‚îÇ
  ‚îÇ                                                 ‚îÇ
  ‚îÇ ‚è±Ô∏è –í—Ä–µ–º—è: 40-60 —Å–µ–∫—É–Ω–¥                          ‚îÇ
  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

  –†–µ–∑—É–ª—å—Ç–∞—Ç –≤ –ø–∞–º—è—Ç–∏ (JavaScript):
  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
  ‚îÇ this.listings = [                            ‚îÇ
  ‚îÇ   {                                          ‚îÇ
  ‚îÇ     number: '–ê123–í–•77',                     ‚îÇ
  ‚îÇ     price: 250000,                          ‚îÇ
  ‚îÇ     region: '–ú–æ—Å–∫–≤–∞',                       ‚îÇ
  ‚îÇ     url: 'https://...',                     ‚îÇ
  ‚îÇ     status: 'active'                        ‚îÇ
  ‚îÇ   },                                        ‚îÇ
  ‚îÇ   {                                         ‚îÇ
  ‚îÇ     number: '–í456DE99',                    ‚îÇ
  ‚îÇ     price: 300000,                         ‚îÇ
  ‚îÇ     region: '–°–ü–±',                         ‚îÇ
  ‚îÇ     ...                                    ‚îÇ
  ‚îÇ   },                                        ‚îÇ
  ‚îÇ   ... 5000+ –æ–±—ä—è–≤–ª–µ–Ω–∏–π                     ‚îÇ
  ‚îÇ ]                                           ‚îÇ
  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò


–≠–¢–ê–ü 3: –î–ò–§–§–ï–†–ï–ù–¶–ò–ê–õ–¨–ù–û–ï –°–†–ê–í–ù–ï–ù–ò–ï ‚≠ê –ì–õ–ê–í–ù–´–ô –ú–û–ú–ï–ù–¢!
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

  saveDifferentialListingsToDB() –≤ parser-db.js
  ‚Üì
  getDifferentialListings() –≤ db-pg.js / db.js

  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
  ‚îÇ –®–ê–ì 1: –ü–æ–ª—É—á–∞–µ–º –≤—Å–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –Ω–æ–º–µ—Ä–∞ –∏–∑ –ë–î      ‚îÇ
  ‚îÇ ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ     ‚îÇ
  ‚îÇ                                                     ‚îÇ
  ‚îÇ SELECT number, price FROM listings                ‚îÇ
  ‚îÇ WHERE status = 'active'                           ‚îÇ
  ‚îÇ                                                     ‚îÇ
  ‚îÇ –†–µ–∑—É–ª—å—Ç–∞—Ç –≤ –ø–∞–º—è—Ç–∏ (JavaScript –æ–±—ä–µ–∫—Ç):          ‚îÇ
  ‚îÇ ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê‚îÇ
  ‚îÇ ‚îÇ existingNumbers = {                              ‚îÇ‚îÇ
  ‚îÇ ‚îÇ   '–ê123–í–•77': 250000,   ‚Üê –≠–¢–û –ë–´–õ–û –í –ë–î        ‚îÇ‚îÇ
  ‚îÇ ‚îÇ   '–í456DE99': 280000,   ‚Üê –≠–¢–û –ë–´–õ–û –í –ë–î        ‚îÇ‚îÇ
  ‚îÇ ‚îÇ   '–ó789–ú–•99': 180000,   ‚Üê –≠–¢–û –ë–´–õ–û –í –ë–î        ‚îÇ‚îÇ
  ‚îÇ ‚îÇ   ... 5230 –Ω–æ–º–µ—Ä–æ–≤                              ‚îÇ‚îÇ
  ‚îÇ ‚îÇ }                                                ‚îÇ‚îÇ
  ‚îÇ ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò‚îÇ
  ‚îÇ                                                     ‚îÇ
  ‚îÇ ‚è±Ô∏è –í—Ä–µ–º—è: 50-100ms (–æ—á–µ–Ω—å –±—ã—Å—Ç—Ä–æ —Å –∏–Ω–¥–µ–∫—Å–æ–º!)     ‚îÇ
  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
  ‚îÇ –®–ê–ì 2: –°—Ä–∞–≤–Ω–∏–≤–∞–µ–º –ö–ê–ñ–î–û–ï —Å–ø–∞—Ä—Å–µ–Ω–Ω–æ–µ –æ–±—ä—è–≤–ª–µ–Ω–∏–µ         ‚îÇ
  ‚îÇ ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ   ‚îÇ
  ‚îÇ                                                          ‚îÇ
  ‚îÇ for (const listing of newListings) {  // 5000 –æ–±—ä—è–≤–ª.  ‚îÇ
  ‚îÇ   const existingPrice = existingNumbers[listing.number];‚îÇ
  ‚îÇ                                                          ‚îÇ
  ‚îÇ   if (existingPrice === undefined) {                    ‚îÇ
  ‚îÇ     // üÜï –ù–û–í–û–ï! –ï–≥–æ –Ω–µ—Ç –≤ –ë–î                          ‚îÇ
  ‚îÇ     newListingsArray.push(listing);                     ‚îÇ
  ‚îÇ   } else if (listing.price !== existingPrice) {         ‚îÇ
  ‚îÇ     // üìä –ò–ó–ú–ï–ù–ï–ù–ò–ï! –¶–µ–Ω–∞ –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è                   ‚îÇ
  ‚îÇ     recordPriceChange(                                  ‚îÇ
  ‚îÇ       listing.number,      // '–ê456DE99'               ‚îÇ
  ‚îÇ       existingPrice,       // 300000 (—Å—Ç–∞—Ä–∞—è)          ‚îÇ
  ‚îÇ       listing.price,       // 280000 (–Ω–æ–≤–∞—è)           ‚îÇ
  ‚îÇ       sessionId                                         ‚îÇ
  ‚îÇ     );                                                  ‚îÇ
  ‚îÇ     priceChanges.push({...});                          ‚îÇ
  ‚îÇ   }                                                     ‚îÇ
  ‚îÇ   // –ò–Ω–∞—á–µ: —Ü–µ–Ω–∞ –Ω–µ –∏–∑–º–µ–Ω–∏–ª–∞—Å—å, –∏–≥–Ω–æ—Ä–∏—Ä—É–µ–º            ‚îÇ
  ‚îÇ }                                                       ‚îÇ
  ‚îÇ                                                          ‚îÇ
  ‚îÇ ‚è±Ô∏è –í—Ä–µ–º—è: 200ms (–≤—Å–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è –≤ –ø–∞–º—è—Ç–∏!)             ‚îÇ
  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

  –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Å—Ä–∞–≤–Ω–µ–Ω–∏—è:
  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
  ‚îÇ newListingsArray = [                               ‚îÇ
  ‚îÇ   {                                                ‚îÇ
  ‚îÇ     number: '–ó789–ú–•99',  ‚Üê –ù–û–í–û–ï –æ–±—ä—è–≤–ª–µ–Ω–∏–µ!      ‚îÇ
  ‚îÇ     price: 180000,                                 ‚îÇ
  ‚îÇ     region: '–ö–∞–∑–∞–Ω—å',                             ‚îÇ
  ‚îÇ     ...                                            ‚îÇ
  ‚îÇ   },                                               ‚îÇ
  ‚îÇ   {                                                ‚îÇ
  ‚îÇ     number: '–ò101–û–•88',  ‚Üê –ù–û–í–û–ï –æ–±—ä—è–≤–ª–µ–Ω–∏–µ!      ‚îÇ
  ‚îÇ     price: 210000,                                 ‚îÇ
  ‚îÇ     ...                                            ‚îÇ
  ‚îÇ   },                                               ‚îÇ
  ‚îÇ   ... 150 –ù–û–í–´–• –æ–±—ä—è–≤–ª–µ–Ω–∏–π –≤—Å–µ–≥–æ                 ‚îÇ
  ‚îÇ ]                                                  ‚îÇ
  ‚îÇ                                                    ‚îÇ
  ‚îÇ priceChanges = [                                   ‚îÇ
  ‚îÇ   {                                                ‚îÇ
  ‚îÇ     number: '–ê456DE99',   ‚Üê –ï–°–¢–¨ –í –ë–î             ‚îÇ
  ‚îÇ     oldPrice: 300000,     ‚Üê –ë–´–õ–ê —ç—Ç–∞ —Ü–µ–Ω–∞         ‚îÇ
  ‚îÇ     newPrice: 280000,     ‚Üê –°–¢–ê–õ–ê —ç—Ç–∞ —Ü–µ–Ω–∞        ‚îÇ
  ‚îÇ     priceDelta: -20000,   ‚Üê –£–ü–ê–õ–ê –Ω–∞ 20k          ‚îÇ
  ‚îÇ     changeDirection: 'decreased'                   ‚îÇ
  ‚îÇ   },                                               ‚îÇ
  ‚îÇ   {                                                ‚îÇ
  ‚îÇ     number: '–í789–ö–•12',   ‚Üê –ï–°–¢–¨ –í –ë–î             ‚îÇ
  ‚îÇ     oldPrice: 150000,     ‚Üê –ë–´–õ–ê —ç—Ç–∞ —Ü–µ–Ω–∞         ‚îÇ
  ‚îÇ     newPrice: 165000,     ‚Üê –°–¢–ê–õ–ê —ç—Ç–∞ —Ü–µ–Ω–∞        ‚îÇ
  ‚îÇ     priceDelta: 15000,    ‚Üê –í–´–†–û–°–õ–ê –Ω–∞ 15k        ‚îÇ
  ‚îÇ     changeDirection: 'increased'                   ‚îÇ
  ‚îÇ   },                                               ‚îÇ
  ‚îÇ   ... 45 –ò–ó–ú–ï–ù–ï–ù–ò–ô –¶–ï–ù–´ –≤—Å–µ–≥–æ                    ‚îÇ
  ‚îÇ ]                                                  ‚îÇ
  ‚îÇ                                                    ‚îÇ
  ‚îÇ statistics = {                                     ‚îÇ
  ‚îÇ   newCount: 150,                                   ‚îÇ
  ‚îÇ   updatedCount: 45,  ‚Üê –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Ü–µ–Ω—ã              ‚îÇ
  ‚îÇ   unchangedCount: 4805,  ‚Üê –Ω–µ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å          ‚îÇ
  ‚îÇ   totalProcessed: 5000   ‚Üê –≤—Å–µ–≥–æ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–æ        ‚îÇ
  ‚îÇ }                                                  ‚îÇ
  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò


–≠–¢–ê–ü 4: –°–û–•–†–ê–ù–ï–ù–ò–ï –í –ë–î
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
  ‚îÇ –°–û–•–†–ê–ù–Ø–ï–ú –ù–û–í–´–ï –û–ë–™–Ø–í–õ–ï–ù–ò–Ø (150)                    ‚îÇ
  ‚îÇ ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ    ‚îÇ
  ‚îÇ                                                      ‚îÇ
  ‚îÇ for (const listing of newListingsArray) {           ‚îÇ
  ‚îÇ   INSERT INTO listings                             ‚îÇ
  ‚îÇ   VALUES (                                          ‚îÇ
  ‚îÇ     '–ó789–ú–•99',          ‚Üê number                  ‚îÇ
  ‚îÇ     180000,              ‚Üê price                   ‚îÇ
  ‚îÇ     '–ö–∞–∑–∞–Ω—å',            ‚Üê region                  ‚îÇ
  ‚îÇ     'active',            ‚Üê status                  ‚îÇ
  ‚îÇ     'https://...',       ‚Üê url                     ‚îÇ
  ‚îÇ     NOW()                ‚Üê parsed_at               ‚îÇ
  ‚îÇ   )                                                ‚îÇ
  ‚îÇ   ON CONFLICT (number) DO UPDATE SET ... ‚Üê UPSERT ‚îÇ
  ‚îÇ }                                                   ‚îÇ
  ‚îÇ                                                      ‚îÇ
  ‚îÇ ‚è±Ô∏è –í—Ä–µ–º—è: 150 √ó 15ms = 2.25 —Å–µ–∫—É–Ω–¥—ã                ‚îÇ
  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
  ‚îÇ –ó–ê–ü–ò–°–´–í–ê–ï–ú –ò–ó–ú–ï–ù–ï–ù–ò–Ø –¶–ï–ù (45)                       ‚îÇ
  ‚îÇ ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ   ‚îÇ
  ‚îÇ                                                      ‚îÇ
  ‚îÇ for (const change of priceChanges) {               ‚îÇ
  ‚îÇ   INSERT INTO price_history                        ‚îÇ
  ‚îÇ   VALUES (                                         ‚îÇ
  ‚îÇ     '–ê456DE99',          ‚Üê number                 ‚îÇ
  ‚îÇ     300000,              ‚Üê old_price              ‚îÇ
  ‚îÇ     280000,              ‚Üê new_price              ‚îÇ
  ‚îÇ     -20000,              ‚Üê price_delta            ‚îÇ
  ‚îÇ     'decreased',         ‚Üê change_direction       ‚îÇ
  ‚îÇ     session_id           ‚Üê –¥–ª—è –∏—Å—Ç–æ—Ä–∏–∏             ‚îÇ
  ‚îÇ   )                                                ‚îÇ
  ‚îÇ }                                                   ‚îÇ
  ‚îÇ                                                      ‚îÇ
  ‚îÇ ‚è±Ô∏è –í—Ä–µ–º—è: 45 √ó 10ms = 0.45 —Å–µ–∫—É–Ω–¥—ã                ‚îÇ
  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
  ‚îÇ –û–ë–ù–û–í–õ–Ø–ï–ú –°–ï–°–°–ò–Æ –í –ë–î                              ‚îÇ
  ‚îÇ ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ   ‚îÇ
  ‚îÇ                                                      ‚îÇ
  ‚îÇ UPDATE parse_sessions SET                          ‚îÇ
  ‚îÇ   status = 'completed',                            ‚îÇ
  ‚îÇ   total_items = 5000,                              ‚îÇ
  ‚îÇ   new_items = 150,                                 ‚îÇ
  ‚îÇ   updated_items = 45,                              ‚îÇ
  ‚îÇ   completed_at = NOW()                             ‚îÇ
  ‚îÇ WHERE id = 'session_...'                           ‚îÇ
  ‚îÇ                                                      ‚îÇ
  ‚îÇ ‚è±Ô∏è –í—Ä–µ–º—è: 10ms                                     ‚îÇ
  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò


–≠–¢–ê–ü 5: –í–û–ó–í–†–ê–¢ –†–ï–ó–£–õ–¨–¢–ê–¢–û–í
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

  –û–±–Ω–æ–≤–ª—è–µ—Ç—Å—è —Å–µ—Å—Å–∏—è –≤ –ø–∞–º—è—Ç–∏:
  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
  ‚îÇ sessions.set(sessionId, {                           ‚îÇ
  ‚îÇ   ...                                               ‚îÇ
  ‚îÇ   status: 'completed',                              ‚îÇ
  ‚îÇ   listings: [150 –Ω–æ–≤—ã—Ö –æ–±—ä—è–≤–ª–µ–Ω–∏–π],                ‚îÇ
  ‚îÇ   priceChanges: [45 –∏–∑–º–µ–Ω–µ–Ω–∏–π —Ü–µ–Ω],                ‚îÇ
  ‚îÇ   diffResult: {                                     ‚îÇ
  ‚îÇ     totalParsed: 5000,                             ‚îÇ
  ‚îÇ     newItems: 150,                                 ‚îÇ
  ‚îÇ     updatedItems: 45,                              ‚îÇ
  ‚îÇ     unchangedItems: 4805                           ‚îÇ
  ‚îÇ   },                                                ‚îÇ
  ‚îÇ   endTime: Date.now()                              ‚îÇ
  ‚îÇ })                                                  ‚îÇ
  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

  –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Å—Ç–∞—Ç—É—Å:
  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
  ‚îÇ GET /api/sessions/{sessionId}/status                ‚îÇ
  ‚îÇ                                                      ‚îÇ
  ‚îÇ –û—Ç–≤–µ—Ç:                                              ‚îÇ
  ‚îÇ {                                                   ‚îÇ
  ‚îÇ   "sessionId": "session_...",                      ‚îÇ
  ‚îÇ   "status": "completed",                           ‚îÇ
  ‚îÇ   "isDifferential": true,                          ‚îÇ
  ‚îÇ   "differential": {                                ‚îÇ
  ‚îÇ     "totalParsed": 5000,                           ‚îÇ
  ‚îÇ     "newItems": 150,                               ‚îÇ
  ‚îÇ     "updatedItems": 45,                            ‚îÇ
  ‚îÇ     "unchangedItems": 4805,                        ‚îÇ
  ‚îÇ     "priceChangesCount": 45                        ‚îÇ
  ‚îÇ   },                                                ‚îÇ
  ‚îÇ   "duration": "47.71s"                             ‚îÇ
  ‚îÇ }                                                   ‚îÇ
  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

  –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–ª—É—á–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ:
  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
  ‚îÇ GET /api/sessions/{sessionId}/data                  ‚îÇ
  ‚îÇ                                                      ‚îÇ
  ‚îÇ –û—Ç–≤–µ—Ç:                                              ‚îÇ
  ‚îÇ {                                                   ‚îÇ
  ‚îÇ   "isDifferential": true,                          ‚îÇ
  ‚îÇ   "count": 150,  ‚Üê —Ç–æ–ª—å–∫–æ –ù–û–í–´–ï!                  ‚îÇ
  ‚îÇ   "listings": [ ... ],                             ‚îÇ
  ‚îÇ   "priceChangesCount": 45,                         ‚îÇ
  ‚îÇ   "priceChanges": [                                ‚îÇ
  ‚îÇ     {                                              ‚îÇ
  ‚îÇ       "number": "–ê456DE99",                       ‚îÇ
  ‚îÇ       "oldPrice": 300000,                         ‚îÇ
  ‚îÇ       "newPrice": 280000,                         ‚îÇ
  ‚îÇ       "priceDelta": -20000,                       ‚îÇ
  ‚îÇ       "changeDirection": "decreased"              ‚îÇ
  ‚îÇ     },                                            ‚îÇ
  ‚îÇ     ... 45 –∏–∑–º–µ–Ω–µ–Ω–∏–π                              ‚îÇ
  ‚îÇ   ],                                               ‚îÇ
  ‚îÇ   "priceChangesSummary": {                         ‚îÇ
  ‚îÇ     "total": 45,                                  ‚îÇ
  ‚îÇ     "increased": 30,                              ‚îÇ
  ‚îÇ     "decreased": 15,                              ‚îÇ
  ‚îÇ     "totalPriceDelta": 125000                     ‚îÇ
  ‚îÇ   }                                                ‚îÇ
  ‚îÇ }                                                   ‚îÇ
  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## 3. –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Ç—Ä–µ—Ö —Ä–µ–∂–∏–º–æ–≤ –ø–∞—Ä—Å–∏–Ω–≥–∞

```
                  –û–ë–´–ß–ù–´–ô –ü–ê–†–°–ò–ù–ì          –î–ò–§–§–ï–†–ï–ù–¶–ò–ê–õ–¨–ù–´–ô –ü–ê–†–°–ò–ù–ì      –ê–í–¢–û–ü–ê–†–°–ò–ù–ì
                 /api/parse                /api/parse-differential      scheduler.js
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

–ó–ê–ü–£–°–ö:          –†—É—á–Ω–æ–π (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å)     –†—É—á–Ω–æ–π (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å)        –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π
                                                                        (00:00 –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é)

–ß–¢–û –î–ï–õ–ê–ï–¢:     1. –ü–∞—Ä—Å–∏—Ç —Å–∞–π—Ç ‚úÖ         1. –ü–∞—Ä—Å–∏—Ç —Å–∞–π—Ç ‚úÖ            1. –ü–∞—Ä—Å–∏—Ç —Å–∞–π—Ç ‚úÖ
                 2. –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –í–°–ï          2. –°—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç —Å –ë–î ‚úÖ         2. –°—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç ‚ùå
                                           3. –°–æ—Ö—Ä–∞–Ω—è–µ—Ç —Ç–æ–ª—å–∫–æ –Ω–æ–≤—ã–µ     3. –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –í–°–ï ‚ùå

–°–û–•–†–ê–ù–ï–ù–ò–ï:     INSERT/UPDATE             INSERT –¥–ª—è –Ω–æ–≤—ã—Ö             INSERT/UPDATE
                –¥–ª—è –í–°–ï–• 5000             + INSERT price_history       –¥–ª—è –í–°–ï–• 5000

–†–ï–ó–£–õ–¨–¢–ê–¢–´:     - –ù–æ–≤—ã—Ö: 150              - –ù–æ–≤—ã—Ö: 150 ‚úÖ              - –ù–æ–≤—ã—Ö: 150
                 - –û–±–Ω–æ–≤–ª–µ–Ω–æ: 4850        - –ò–∑–º–µ–Ω–µ–Ω—ã —Ü–µ–Ω—ã: 45 ‚úÖ       - –û–±–Ω–æ–≤–ª–µ–Ω–æ: 4850
                 (–ø–µ—Ä–µ–∑–∞–ø–∏—Å–∞–Ω—ã –≤—Å–µ!)      - –ë–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π: 4805 ‚úÖ

–ò–°–¢–û–†–ò–Ø –¶–ï–ù:    ‚ùå –ù–µ –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è        ‚úÖ –ó–∞–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –≤ price_history ‚ùå –ù–µ –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è

–ö–û–ì–î–ê            - –ü–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫          - –†–µ–≥—É–ª—è—Ä–Ω—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è      - –ï–∂–µ–¥–Ω–µ–≤–Ω–æ
–ò–°–ü–û–õ–¨–ó–û–í–ê–¢–¨:   - –ü–æ–ª–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ      - –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ü–µ–Ω              –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
                 - –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ë–î      - –ê–Ω–∞–ª–∏–∑ —Ç—Ä–µ–Ω–¥–æ–≤

–ù–ê–ì–†–£–ó–ö–ê –ù–ê –ë–î:  ‚ö†Ô∏è –í–´–°–û–ö–ê–Ø               ‚úÖ –ù–ò–ó–ö–ê–Ø                    ‚ö†Ô∏è –í–´–°–û–ö–ê–Ø
                 5000 –∑–∞–ø—Ä–æ—Å–æ–≤            195 –∑–∞–ø—Ä–æ—Å–æ–≤                5000 –∑–∞–ø—Ä–æ—Å–æ–≤

–í–†–ï–ú–Ø:           45-60 —Å–µ–∫.               45-50 —Å–µ–∫.                   50-70 —Å–µ–∫.
                 (–ø–∞—Ä—Å–∏–Ω–≥ ‚âà –æ–¥–∏–Ω–∞–∫–æ–≤)    (–¥–∏—Ñ—Ñ. —Å—Ä–∞–≤–Ω. –±—ã—Å—Ç—Ä–æ!)
```

---

## 4. –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Ç–∞–±–ª–∏—Ü –ë–î

### listings (–æ—Å–Ω–æ–≤–Ω—ã–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è)

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ id   ‚îÇ number       ‚îÇ price  ‚îÇ region    ‚îÇ status ‚îÇ updated_at          ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ 1    ‚îÇ –ê123–í–•77    ‚îÇ 250000 ‚îÇ –ú–æ—Å–∫–≤–∞   ‚îÇ active ‚îÇ 2025-01-20 15:45:00 ‚îÇ
‚îÇ 2    ‚îÇ –í456DE99    ‚îÇ 280000 ‚îÇ –°–ü–±      ‚îÇ active ‚îÇ 2025-01-20 15:40:00 ‚îÇ
‚îÇ 3    ‚îÇ –ó789–ú–•99    ‚îÇ 180000 ‚îÇ –ö–∞–∑–∞–Ω—å   ‚îÇ active ‚îÇ 2025-01-20 15:30:00 ‚îÇ
‚îÇ 4    ‚îÇ –ò101–û–•88    ‚îÇ 210000 ‚îÇ –ú–æ—Å–∫–≤–∞   ‚îÇ active ‚îÇ 2025-01-20 15:25:00 ‚îÇ
‚îÇ ... (5230 –æ–±—ä—è–≤–ª–µ–Ω–∏–π) ...                                              ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

–ò–ù–î–ï–ö–°–´:
  ‚úÖ UNIQUE (number)         ‚Äî –æ—á–µ–Ω—å –±—ã—Å—Ç—Ä—ã–π –ø–æ–∏—Å–∫ –ø–æ –Ω–æ–º–µ—Ä—É
  ‚úÖ INDEX (region)          ‚Äî –±—ã—Å—Ç—Ä—ã–π –ø–æ–∏—Å–∫ –ø–æ —Ä–µ–≥–∏–æ–Ω–∞–º
  ‚úÖ INDEX (status)          ‚Äî –±—ã—Å—Ç—Ä—ã–π —Ñ–∏–ª—å—Ç—Ä active/inactive
  ‚úÖ INDEX (price)           ‚Äî –±—ã—Å—Ç—Ä—ã–π –ø–æ–∏—Å–∫ –ø–æ —Ü–µ–Ω–µ
  ‚úÖ INDEX (updated_at)      ‚Äî –±—ã—Å—Ç—Ä–∞—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ –≤—Ä–µ–º–µ–Ω–∏
```

### price_history (–∏—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π —Ü–µ–Ω)

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ id   ‚îÇ number       ‚îÇ old_price ‚îÇ new_price ‚îÇ price_delta ‚îÇ change_direction‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ 1    ‚îÇ –ê123–í–•77    ‚îÇ 240000    ‚îÇ 250000    ‚îÇ 10000       ‚îÇ increased     ‚îÇ
‚îÇ 2    ‚îÇ –ê456DE99    ‚îÇ 300000    ‚îÇ 280000    ‚îÇ -20000      ‚îÇ decreased     ‚îÇ
‚îÇ 3    ‚îÇ –í789–ö–•12    ‚îÇ 150000    ‚îÇ 165000    ‚îÇ 15000       ‚îÇ increased     ‚îÇ
‚îÇ 4    ‚îÇ –ê123–í–•77    ‚îÇ 230000    ‚îÇ 240000    ‚îÇ 10000       ‚îÇ increased     ‚îÇ
‚îÇ ... (285+ –∏–∑–º–µ–Ω–µ–Ω–∏–π –∑–∞ –Ω–µ–¥–µ–ª—é) ...                                       ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

–ò–ù–î–ï–ö–°–´:
  ‚úÖ INDEX (number)       ‚Äî –±—ã—Å—Ç—Ä—ã–π –ø–æ–∏—Å–∫ –∏—Å—Ç–æ—Ä–∏–∏ –¥–ª—è –Ω–æ–º–µ—Ä–∞
  ‚úÖ INDEX (updated_at)   ‚Äî –±—ã—Å—Ç—Ä—ã–π –ø–æ–∏—Å–∫ –ø–æ –¥–∞—Ç–µ
  ‚úÖ INDEX (session_id)   ‚Äî —Å–≤—è–∑—å —Å —Å–µ—Å—Å–∏–µ–π –ø–∞—Ä—Å–∏–Ω–≥–∞
```

### parse_sessions (–∏—Å—Ç–æ—Ä–∏–∏ –ø–∞—Ä—Å–∏–Ω–≥–∞)

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ id             ‚îÇ started_at    ‚îÇ completed_at  ‚îÇ status     ‚îÇ new_items ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ session_1735... ‚îÇ 15:30:00      ‚îÇ 15:45:00      ‚îÇ completed  ‚îÇ 150       ‚îÇ
‚îÇ session_1734... ‚îÇ 14:30:00      ‚îÇ 14:52:00      ‚îÇ completed  ‚îÇ 120       ‚îÇ
‚îÇ session_1733... ‚îÇ 13:30:00      ‚îÇ 13:45:00      ‚îÇ completed  ‚îÇ 95        ‚îÇ
‚îÇ ... (–∏—Å—Ç–æ—Ä–∏—è –≤—Å–µ—Ö –ø–∞—Ä—Å–∏–Ω–≥–æ–≤) ...                                       ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

–°–û–î–ï–†–ñ–ò–¢:
  - total_items: —Å–∫–æ–ª—å–∫–æ –≤—Å–µ–≥–æ —Å–ø–∞—Ä—Å–µ–Ω–æ
  - new_items: —Å–∫–æ–ª—å–∫–æ –Ω–æ–≤—ã—Ö –¥–æ–±–∞–≤–ª–µ–Ω–æ
  - updated_items: —Å–∫–æ–ª—å–∫–æ —Ü–µ–Ω –∏–∑–º–µ–Ω–∏–ª–æ—Å—å
  - params: –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–∞—Ä—Å–∏–Ω–≥–∞ (JSON)
```

---

## 5. –ü—Ä–∏–º–µ—Ä—ã –¥–∞–Ω–Ω—ã—Ö –ø–æ—Å–ª–µ –ø–∞—Ä—Å–∏–Ω–≥–∞

### –ü–æ—Å–ª–µ –¥–∏—Ñ—Ñ–µ—Ä–µ–Ω—Ü–∏–∞–ª—å–Ω–æ–≥–æ –ø–∞—Ä—Å–∏–Ω–≥–∞ 5000 –æ–±—ä—è–≤–ª–µ–Ω–∏–π:

**–ù–æ–≤—ã–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è (150):**
```javascript
[
  {
    "number": "–ó789–ú–•99",      ‚Üê üÜï –ù–û–í–û–ï!
    "price": 180000,
    "region": "–ö–∞–∑–∞–Ω—å",
    "seller": "–ò–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤",
    "url": "https://autonomera777.net/...",
    "status": "active",
    "parsed_at": "2025-01-20 15:45:00"
  },
  {
    "number": "–ò101–û–•88",       ‚Üê üÜï –ù–û–í–û–ï!
    "price": 210000,
    "region": "–ú–æ—Å–∫–≤–∞",
    "seller": "Maria Sidorova",
    "url": "https://autonomera777.net/...",
    "status": "active",
    "parsed_at": "2025-01-20 15:45:00"
  },
  // ... –µ—â–µ 148 –Ω–æ–≤—ã—Ö –æ–±—ä—è–≤–ª–µ–Ω–∏–π
]
```

**–ò–∑–º–µ–Ω–µ–Ω–∏—è —Ü–µ–Ω (45):**
```javascript
[
  {
    "number": "–ê456DE99",           ‚Üê üìä –ë–´–õ–ê –í –ë–î, –¶–ï–ù–ê –ò–ó–ú–ï–ù–ò–õ–ê–°–¨
    "oldPrice": 300000,
    "newPrice": 280000,
    "priceDelta": -20000,           ‚Üê –£–ü–ê–õ–ê –Ω–∞ 20 —Ç—ã—Å—è—á
    "changeDirection": "decreased"
  },
  {
    "number": "–í789–ö–•12",           ‚Üê üìä –ë–´–õ–ê –í –ë–î, –¶–ï–ù–ê –ò–ó–ú–ï–ù–ò–õ–ê–°–¨
    "oldPrice": 150000,
    "newPrice": 165000,
    "priceDelta": 15000,            ‚Üê –í–´–†–û–°–õ–ê –Ω–∞ 15 —Ç—ã—Å—è—á
    "changeDirection": "increased"
  },
  {
    "number": "–ê123–í–•77",           ‚Üê üìä –ë–´–õ–ê –í –ë–î, –¶–ï–ù–ê –ò–ó–ú–ï–ù–ò–õ–ê–°–¨
    "oldPrice": 240000,
    "newPrice": 250000,
    "priceDelta": 10000,            ‚Üê –í–´–†–û–°–õ–ê –Ω–∞ 10 —Ç—ã—Å—è—á
    "changeDirection": "increased"
  },
  // ... –µ—â–µ 42 –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ü–µ–Ω
]
```

---

## 6. –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø–æ —ç—Ç–∞–ø–∞–º

```
–ü–ê–†–°–ò–ù–ì –°–ê–ô–¢–ê (5000 –æ–±—ä—è–≤–ª–µ–Ω–∏–π)
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

  –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –±—Ä–∞—É–∑–µ—Ä–∞:            2 —Å–µ–∫.
  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
  ‚îÇ ‚ñà‚ñà‚ñà‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë ‚îÇ
  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

  –ó–∞–≥—Ä—É–∑–∫–∞ —Å—Ç—Ä–∞–Ω–∏—Ü:                  35-40 —Å–µ–∫.
  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
  ‚îÇ ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë ‚îÇ
  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

  –ü–∞—Ä—Å–∏–Ω–≥ HTML (Cheerio):            3-5 —Å–µ–∫.
  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
  ‚îÇ ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë ‚îÇ
  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

                                    –ò–¢–û–ì–û: 45-50 —Å–µ–∫.


–î–ò–§–§–ï–†–ï–ù–¶–ò–ê–õ–¨–ù–û–ï –°–†–ê–í–ù–ï–ù–ò–ï (–≤ –ø–∞–º—è—Ç–∏)
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

  –ó–∞–≥—Ä—É–∑–∫–∞ –Ω–æ–º–µ—Ä–æ–≤ –∏–∑ –ë–î:            50-100 ms
  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
  ‚îÇ ‚ñà‚ñà‚ñà ‚îÇ
  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

  –°—Ä–∞–≤–Ω–µ–Ω–∏–µ 5000 –æ–±—ä—è–≤–ª–µ–Ω–∏–π:        150-200 ms
  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
  ‚îÇ ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñë‚ñë‚ñë‚ñë ‚îÇ
  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

                                    –ò–¢–û–ì–û: 200-300 ms


–°–û–•–†–ê–ù–ï–ù–ò–ï –í –ë–î
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

  –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ 150 –Ω–æ–≤—ã—Ö:             2.25 —Å–µ–∫.
  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
  ‚îÇ ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë ‚îÇ
  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

  –ó–∞–ø–∏—Å—å 45 –∏–∑–º–µ–Ω–µ–Ω–∏–π —Ü–µ–Ω:          0.45 —Å–µ–∫.
  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
  ‚îÇ ‚ñà‚ñà‚ñà‚ñë‚ñë‚ñë‚ñë‚ñë ‚îÇ
  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

  –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–µ—Å—Å–∏–∏:                0.01 —Å–µ–∫.
  ‚îå‚îÄ‚îê
  ‚îÇ‚ñë‚îÇ
  ‚îî‚îÄ‚îò

                                    –ò–¢–û–ì–û: 2.71 —Å–µ–∫.


–ü–û–õ–ù–û–ï –í–†–ï–ú–Ø –î–ò–§–§–ï–†–ï–ù–¶–ò–ê–õ–¨–ù–û–ì–û –ü–ê–†–°–ò–ù–ì–ê
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

  45 —Å–µ–∫. (–ø–∞—Ä—Å–∏–Ω–≥) + 0.3 —Å–µ–∫. (—Å—Ä–∞–≤–Ω–µ–Ω–∏–µ) + 2.7 —Å–µ–∫. (–ë–î)
  ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
  ‚âà 48 –°–ï–ö–£–ù–î –í–°–ï–ì–û ‚úÖ
```

---

## 7. –ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª –æ–¥–Ω–æ–≥–æ –æ–±—ä—è–≤–ª–µ–Ω–∏—è

### –°—Ü–µ–Ω–∞—Ä–∏–π 1: üÜï –ù–æ–≤–æ–µ –æ–±—ä—è–≤–ª–µ–Ω–∏–µ

```
                    –ü–û–Ø–í–ò–õ–û–°–¨ –ù–ê –°–ê–ô–¢–ï
                           ‚îÇ
                           ‚Üì
                    –°–ü–ê–†–°–ï–ù–û –ü–ê–†–°–ï–†–û–ú
                           ‚îÇ
                           ‚Üì
          getDifferentialListings() –ø—Ä–æ–≤–µ—Ä—è–µ—Ç:
         "–ï—Å—Ç—å –ª–∏ —ç—Ç–æ—Ç –Ω–æ–º–µ—Ä –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö?"
                           ‚îÇ
              –ù–ï–¢! (first time seen)
                           ‚îÇ
                           ‚Üì
              –î–æ–±–∞–≤–ª—è–µ—Ç—Å—è –≤ newListings
                           ‚îÇ
                           ‚Üì
              insertOrUpdateListing()
              INSERT INTO listings
              VALUES (...)
                           ‚îÇ
                           ‚Üì
                  ‚úÖ –û–ë–™–Ø–í–õ–ï–ù–ò–ï –í –ë–î
                  parsed_at = NOW()
                  updated_at = NOW()
```

### –°—Ü–µ–Ω–∞—Ä–∏–π 2: üìä –û–±—ä—è–≤–ª–µ–Ω–∏–µ —Å –∏–∑–º–µ–Ω–µ–Ω–∏–µ–º —Ü–µ–Ω—ã

```
                    –û–ë–™–Ø–í–õ–ï–ù–ò–ï –ù–ê –°–ê–ô–¢–ï
                    (—Ü–µ–Ω–∞ –∏–∑–º–µ–Ω–∏–ª–∞—Å—å!)
                           ‚îÇ
                           ‚Üì
                    –°–ü–ê–†–°–ï–ù–û –ü–ê–†–°–ï–†–û–ú
                    (–Ω–æ–≤–∞—è —Ü–µ–Ω–∞)
                           ‚îÇ
                           ‚Üì
          getDifferentialListings() –ø—Ä–æ–≤–µ—Ä—è–µ—Ç:
         "–ï—Å—Ç—å –ª–∏ —ç—Ç–æ—Ç –Ω–æ–º–µ—Ä –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö?"
                           ‚îÇ
              –î–ê! (already exists)
          "–¶–µ–Ω–∞ –∏–∑–º–µ–Ω–∏–ª–∞—Å—å?"
                           ‚îÇ
              –î–ê! (300000 ‚Üí 280000)
                           ‚îÇ
                           ‚Üì
          recordPriceChange() –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è:
              INSERT INTO price_history
              VALUES (
                number: '–ê456DE99',
                old_price: 300000,
                new_price: 280000,
                price_delta: -20000,
                change_direction: 'decreased',
                session_id: session_...
              )
                           ‚îÇ
                           ‚Üì
          insertOrUpdateListing():
              UPDATE listings SET price = 280000
              WHERE number = '–ê456DE99'
                           ‚îÇ
                           ‚Üì
          ‚úÖ –¶–ï–ù–ê –û–ë–ù–û–í–õ–ï–ù–ê
          ‚úÖ –ò–°–¢–û–†–ò–Ø –ó–ê–ü–ò–°–ê–ù–ê
          updated_at = NOW()
          price = 280000
```

### –°—Ü–µ–Ω–∞—Ä–∏–π 3: ‚û°Ô∏è –û–±—ä—è–≤–ª–µ–Ω–∏–µ –ë–ï–ó –∏–∑–º–µ–Ω–µ–Ω–∏–π

```
                    –û–ë–™–Ø–í–õ–ï–ù–ò–ï –ù–ê –°–ê–ô–¢–ï
                    (—Ü–µ–Ω–∞ –Ω–µ –∏–∑–º–µ–Ω–∏–ª–∞—Å—å)
                           ‚îÇ
                           ‚Üì
                    –°–ü–ê–†–°–ï–ù–û –ü–ê–†–°–ï–†–û–ú
                    (—Ç–∞ –∂–µ —Ü–µ–Ω–∞)
                           ‚îÇ
                           ‚Üì
          getDifferentialListings() –ø—Ä–æ–≤–µ—Ä—è–µ—Ç:
         "–ï—Å—Ç—å –ª–∏ —ç—Ç–æ—Ç –Ω–æ–º–µ—Ä –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö?"
                           ‚îÇ
              –î–ê! (already exists)
          "–¶–µ–Ω–∞ –∏–∑–º–µ–Ω–∏–ª–∞—Å—å?"
                           ‚îÇ
              –ù–ï–¢! (280000 = 280000)
                           ‚îÇ
                           ‚Üì
                    ‚ùå –ù–ò–ß–ï–ì–û –ù–ï –î–ï–õ–ê–ï–ú
           –û–±—ä—è–≤–ª–µ–Ω–∏–µ –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç—Å—è
          (–æ—Å—Ç–∞–µ—Ç—Å—è –≤ –ë–î –∫–∞–∫ –±—ã–ª–æ)
                           ‚îÇ
                           ‚Üì
          ‚úÖ –≠–ö–û–ù–û–ú–ò–ú:
             - –û–¥–∏–Ω UPDATE –∑–∞–ø—Ä–æ—Å –ù–ï –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è
             - –ó–∞–ø–∏—Å—å –≤ price_history –ù–ï —Å–æ–∑–¥–∞–µ—Ç—Å—è
             - –ë–î –Ω–µ –Ω–∞–≥—Ä—É–∂–∞–µ–º –±–µ–∑ –Ω–∞–¥–æ–±–Ω–æ—Å—Ç–∏
```

---

## 8. –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ –ë–î

### –û–±—ã—á–Ω—ã–π –ø–∞—Ä—Å–∏–Ω–≥ vs –î–∏—Ñ—Ñ–µ—Ä–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–π –ø–∞—Ä—Å–∏–Ω–≥

```
–û–ë–´–ß–ù–´–ô –ü–ê–†–°–ò–ù–ì (5000 –æ–±—ä—è–≤–ª–µ–Ω–∏–π)
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

  –ó–∞–ø—Ä–æ—Å: SELECT number, price FROM listings  ‚ùå –ù–ï –í–´–ü–û–õ–ù–Ø–ï–¢–°–Ø

  –ó–∞–ø—Ä–æ—Å—ã: INSERT/UPDATE –¥–ª—è –í–°–ï–• 5000
  ‚îú‚îÄ INSERT INTO listings (–ê123–í–•77, 250000, ...) ‚úÖ
  ‚îú‚îÄ UPDATE listings SET price=250000 WHERE number='–ê123–í–•77' ‚úÖ
  ‚îú‚îÄ INSERT INTO listings (–í456DE99, 280000, ...) ‚úÖ
  ‚îú‚îÄ UPDATE listings SET price=280000 WHERE number='–í456DE99' ‚úÖ
  ‚îú‚îÄ ... (–ø–æ–≤—Ç–æ—Ä—è–µ—Ç—Å—è 5000 —Ä–∞–∑)
  ‚îî‚îÄ 5000 √ó INSERT/UPDATE –∑–∞–ø—Ä–æ—Å–æ–≤ ‚úÖ

  –ó–∞–ø—Ä–æ—Å: INSERT INTO price_history  ‚ùå –ù–ï –í–´–ü–û–õ–ù–Ø–ï–¢–°–Ø

  –ò–¢–û–ì–û: ~5000 –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ –ë–î ‚ö†Ô∏è –í–´–°–û–ö–ê–Ø –ù–ê–ì–†–£–ó–ö–ê


–î–ò–§–§–ï–†–ï–ù–¶–ò–ê–õ–¨–ù–´–ô –ü–ê–†–°–ò–ù–ì (5000 –æ–±—ä—è–≤–ª–µ–Ω–∏–π)
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

  –ó–∞–ø—Ä–æ—Å: SELECT number, price FROM listings  ‚úÖ –û–î–ò–ù –†–ê–ó!
          (–≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 5230 –Ω–æ–º–µ—Ä–æ–≤)

  –ó–∞–ø—Ä–æ—Å—ã: INSERT –¢–û–õ–¨–ö–û –¥–ª—è –ù–û–í–´–• 150
  ‚îú‚îÄ INSERT INTO listings (–ó789–ú–•99, 180000, ...) ‚úÖ
  ‚îú‚îÄ INSERT INTO listings (–ò101–û–•88, 210000, ...) ‚úÖ
  ‚îú‚îÄ ... (–ø–æ–≤—Ç–æ—Ä—è–µ—Ç—Å—è 150 —Ä–∞–∑)
  ‚îî‚îÄ 150 √ó INSERT –∑–∞–ø—Ä–æ—Å–æ–≤ ‚úÖ

  –ó–∞–ø—Ä–æ—Å—ã: INSERT INTO price_history –¥–ª—è –ò–ó–ú–ï–ù–ï–ù–ò–ô 45
  ‚îú‚îÄ INSERT INTO price_history (–ê456DE99, 300000, 280000, ...) ‚úÖ
  ‚îú‚îÄ INSERT INTO price_history (–í789–ö–•12, 150000, 165000, ...) ‚úÖ
  ‚îú‚îÄ ... (–ø–æ–≤—Ç–æ—Ä—è–µ—Ç—Å—è 45 —Ä–∞–∑)
  ‚îî‚îÄ 45 √ó INSERT –∑–∞–ø—Ä–æ—Å–æ–≤ ‚úÖ

  –ò–¢–û–ì–û: ~195 –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ –ë–î ‚úÖ –ù–ò–ó–ö–ê–Ø –ù–ê–ì–†–£–ó–ö–ê
         (–≤ 25 —Ä–∞–∑ –º–µ–Ω—å—à–µ!)
```

---

**–í–µ—Ä—Å–∏—è:** 1.0
**–î–∞—Ç–∞:** 2025-01-20

–¢–µ–ø–µ—Ä—å –≤—ã –≤–∏–¥–∏—Ç–µ –ø–æ–ª–Ω—É—é –∫–∞—Ä—Ç–∏–Ω—É —Ç–æ–≥–æ, –∫–∞–∫ –ø–∞—Ä—Å–µ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –ë–î! üéØ
