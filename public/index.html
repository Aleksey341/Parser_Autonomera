<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ü–∞—Ä—Å–µ—Ä –ê–í–¢–û–ù–û–ú–ï–†–ê777</title>
    <link rel="stylesheet" href="/styles.css">
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üöó –ü–∞—Ä—Å–µ—Ä –ê–í–¢–û–ù–û–ú–ï–†–ê777</h1>
            <p>–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Å–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –æ–± –æ–±—ä—è–≤–ª–µ–Ω–∏—è—Ö –∞–≤—Ç–æ–º–æ–±–∏–ª—å–Ω—ã—Ö –Ω–æ–º–µ—Ä–æ–≤ —Å —Ä–µ–∞–ª—å–Ω–æ–≥–æ —Å–∞–π—Ç–∞</p>
        </div>

        <div class="controls">
            <h2 style="margin-bottom: 20px; color: #333;">–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–∞—Ä—Å–∏–Ω–≥–∞</h2>

            <div class="control-group">
                <div class="control-item">
                    <label for="minPrice">–ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Ü–µ–Ω–∞ (‚ÇΩ)</label>
                    <input type="number" id="minPrice" placeholder="0" value="0">
                </div>
                <div class="control-item">
                    <label for="maxPrice">–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Ü–µ–Ω–∞ (‚ÇΩ)</label>
                    <input type="number" id="maxPrice" placeholder="10000000" value="10000000">
                </div>
                <div class="control-item">
                    <label for="region">–†–µ–≥–∏–æ–Ω (–∫–æ–¥, –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)</label>
                    <input type="text" id="region" placeholder="77, 50, 78...">
                </div>
            </div>


            <div class="button-group">
                <button class="btn-primary" id="startBtn" onclick="startParsing()">
                    <span class="spinner" id="spinner" style="display: none; margin-right: 8px;"></span>
                    –ù–∞—á–∞—Ç—å –ø–∞—Ä—Å–∏–Ω–≥
                </button>
                <button class="btn-primary" id="continueBtn" onclick="continueParsing()" disabled style="display: none;">
                    <span class="spinner" id="spinnerContinue" style="display: none; margin-right: 8px;"></span>
                    ‚ñ∂Ô∏è –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å (–±–∞—Ç—á +500)
                </button>
                <button class="btn-secondary" id="stopBtn" onclick="stopParsing()" disabled>
                    –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å
                </button>
                <button class="btn-export" id="exportBtn" onclick="exportData()" disabled>
                    üì• –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å
                </button>
            </div>
        </div>

        <div class="progress-section" id="progressSection">
            <div class="progress-text">
                <strong>–°—Ç–∞—Ç—É—Å:</strong> <span id="statusText">–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è...</span>
            </div>
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
            </div>
            <div class="progress-text">
                –°—Ç–∞—Ç—É—Å: <strong id="sessionStatus">–í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è...</strong> | –û–±—ä—è–≤–ª–µ–Ω–∏–π –∑–∞–≥—Ä—É–∂–µ–Ω–æ: <strong id="loadedCount">0</strong>
            </div>
            <div id="statusMessage"></div>
        </div>

        <div class="results-section">
            <div class="results-header">
                <h2>–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–∞—Ä—Å–∏–Ω–≥–∞</h2>
                <div style="color: #666; font-size: 14px;">
                    –û–±–Ω–æ–≤–ª–µ–Ω–æ: <span id="lastUpdate">–Ω–∏–∫–æ–≥–¥–∞</span>
                </div>
            </div>

            <div class="tabs">
                <button class="tab-btn active" onclick="switchTab('overview')">üìä –û–±–∑–æ—Ä</button>
                <button class="tab-btn" onclick="switchTab('data')">üìã –î–∞–Ω–Ω—ã–µ</button>
                <button class="tab-btn" onclick="switchTab('regions')">üåç –ü–æ —Ä–µ–≥–∏–æ–Ω–∞–º</button>
            </div>

            <div id="overview" class="tab-content active">
                <div class="stats">
                    <div class="stat-box">
                        <div class="stat-value" id="totalCount">0</div>
                        <div class="stat-label">–í—Å–µ–≥–æ –æ–±—ä—è–≤–ª–µ–Ω–∏–π</div>
                    </div>
                    <div class="stat-box">
                        <div class="stat-value" id="avgPrice">‚ÇΩ0</div>
                        <div class="stat-label">–°—Ä–µ–¥–Ω—è—è —Ü–µ–Ω–∞</div>
                    </div>
                    <div class="stat-box">
                        <div class="stat-value" id="minPriceResult">‚ÇΩ0</div>
                        <div class="stat-label">–ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Ü–µ–Ω–∞</div>
                    </div>
                    <div class="stat-box">
                        <div class="stat-value" id="maxPriceResult">‚ÇΩ0</div>
                        <div class="stat-label">–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Ü–µ–Ω–∞</div>
                    </div>
                    <div class="stat-box">
                        <div class="stat-value" id="uniqueRegions">0</div>
                        <div class="stat-label">–£–Ω–∏–∫–∞–ª—å–Ω—ã—Ö —Ä–µ–≥–∏–æ–Ω–æ–≤</div>
                    </div>
                    <div class="stat-box">
                        <div class="stat-value" id="uniqueSellers">0</div>
                        <div class="stat-label">–£–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –ø—Ä–æ–¥–∞–≤—Ü–æ–≤</div>
                    </div>
                </div>
            </div>

            <div id="data" class="tab-content">
                <div class="filters">
                    <div class="filter-row">
                        <div class="filter-item" style="flex: 2;">
                            <label for="searchFilter">–ü–æ–∏—Å–∫ –ø–æ –Ω–æ–º–µ—Ä—É –∏–ª–∏ –ø—Ä–æ–¥–∞–≤—Ü—É</label>
                            <input type="text" id="searchFilter" placeholder="–í–≤–µ–¥–∏—Ç–µ –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏...">
                        </div>
                        <div class="filter-item">
                            <label for="statusFilter">–°—Ç–∞—Ç—É—Å</label>
                            <select id="statusFilter">
                                <option value="">–í—Å–µ —Å—Ç–∞—Ç—É—Å—ã</option>
                                <option value="–∞–∫—Ç–∏–≤–Ω–æ">–ê–∫—Ç–∏–≤–Ω–æ</option>
                                <option value="—Å–Ω—è—Ç–æ">–°–Ω—è—Ç–æ</option>
                            </select>
                        </div>
                        <div class="filter-buttons">
                            <button class="btn-secondary" onclick="applyFilters()">–ü—Ä–∏–º–µ–Ω–∏—Ç—å</button>
                            <button class="btn-secondary" onclick="resetFilters()">–°–±—Ä–æ—Å</button>
                        </div>
                    </div>
                </div>

                <div class="table-responsive" id="tableContainer">
                    <div class="empty-state">
                        <div class="empty-state-icon">üìã</div>
                        <h3>–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö</h3>
                        <p>–ù–∞–∂–º–∏—Ç–µ "–ù–∞—á–∞—Ç—å –ø–∞—Ä—Å–∏–Ω–≥" –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –æ–±—ä—è–≤–ª–µ–Ω–∏–π</p>
                    </div>
                </div>
            </div>

            <div id="regions" class="tab-content">
                <div class="table-responsive">
                    <table id="regionsTable">
                        <thead>
                            <tr>
                                <th>–†–µ–≥–∏–æ–Ω</th>
                                <th>–û–±—ä—è–≤–ª–µ–Ω–∏–π</th>
                                <th>–°—Ä–µ–¥–Ω—è—è —Ü–µ–Ω–∞</th>
                            </tr>
                        </thead>
                        <tbody id="regionsBody">
                            <tr>
                                <td colspan="3" style="text-align: center; color: #999;">–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <script src="/main.js" defer></script>
</body>
</html>
