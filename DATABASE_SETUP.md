# üóÑÔ∏è –°–∏—Å—Ç–µ–º–∞ –ø–∞—Ä—Å–∏–Ω–≥–∞ —Å –ë–î MySQL

–ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ —Å–∏—Å—Ç–µ–º—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø–∞—Ä—Å–∏–Ω–≥–∞ —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –≤ MySQL –ë–î –∏ –µ–∂–µ–¥–Ω–µ–≤–Ω—ã–º–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è–º–∏.

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

1. [–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è](#—Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è)
2. [–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞](#—É—Å—Ç–∞–Ω–æ–≤–∫–∞-–∏-–Ω–∞—Å—Ç—Ä–æ–π–∫–∞)
3. [–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è](#–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è)
4. [API Endpoints](#api-endpoints)
5. [–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è](#–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ-–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è)
6. [–ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è](#–ø—Ä–∏–º–µ—Ä—ã-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è)
7. [–û—Ç–ª–∞–¥–∫–∞](#–æ—Ç–ª–∞–¥–∫–∞)

---

## üîß –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

### –°–∏—Å—Ç–µ–º–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
- **Node.js**: 14.0.0+
- **npm**: 6.0.0+
- **MySQL**: 5.7+ –∏–ª–∏ **MariaDB**: 10.3+

### –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
```json
{
  "mysql2": "^3.6.5",
  "node-cron": "^3.0.3"
}
```

---

## üíª –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
npm install
```

### 2. –°–æ–∑–¥–∞–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö MySQL

–û—Ç–∫—Ä–æ–π—Ç–µ MySQL/MariaDB –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:

```sql
CREATE DATABASE autonomera777;
USE autonomera777;
```

### 3. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è .env —Ñ–∞–π–ª–∞

–°–∫–æ–ø–∏—Ä—É–π—Ç–µ/–æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `.env` —Ñ–∞–π–ª –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞:

```bash
# .env

# Server Configuration
PORT=3000
NODE_ENV=development

# Database Configuration
DB_HOST=localhost
DB_PORT=3306
DB_USER=root
DB_PASSWORD=your_secure_password
DB_NAME=autonomera777

# Parser Configuration
PARSER_TIME=00:00
PARSER_TIMEZONE=Europe/Moscow
MAX_PAGES=50
MIN_PRICE=0
MAX_PRICE=999999999
CONCURRENT_REQUESTS=500
REQUEST_DELAY=1000
REQUEST_TIMEOUT=40000

# Puppeteer Configuration
PUPPETEER_HEADLESS=true
PUPPETEER_NO_SANDBOX=false
```

### 4. –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞

```bash
npm start
```

–°–µ—Ä–≤–µ—Ä –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç –ë–î –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏ —Å–æ–∑–¥–∞—Å—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —Ç–∞–±–ª–∏—Ü—ã.

---

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã .env

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –û–ø–∏—Å–∞–Ω–∏–µ | –ó–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é |
|----------|---------|----------------------|
| `PORT` | –ü–æ—Ä—Ç —Å–µ—Ä–≤–µ—Ä–∞ | 3000 |
| `NODE_ENV` | –û–∫—Ä—É–∂–µ–Ω–∏–µ | development |
| `DB_HOST` | –•–æ—Å—Ç MySQL | localhost |
| `DB_PORT` | –ü–æ—Ä—Ç MySQL | 3306 |
| `DB_USER` | –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ë–î | root |
| `DB_PASSWORD` | –ü–∞—Ä–æ–ª—å –ë–î | (–ø—É—Å—Ç–æ) |
| `DB_NAME` | –ò–º—è –ë–î | autonomera777 |
| `PARSER_TIME` | –í—Ä–µ–º—è –ø–∞—Ä—Å–∏–Ω–≥–∞ (HH:MM) | 00:00 (–ø–æ–ª–Ω–æ—á—å) |
| `PARSER_TIMEZONE` | –ß–∞—Å–æ–≤–æ–π –ø–æ—è—Å | Europe/Moscow |
| `MAX_PAGES` | –ú–∞–∫—Å. —Å—Ç—Ä–∞–Ω–∏—Ü –¥–ª—è –ø–∞—Ä—Å–∏–Ω–≥–∞ | 50 |
| `CONCURRENT_REQUESTS` | –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã | 500 |
| `REQUEST_DELAY` | –ó–∞–¥–µ—Ä–∂–∫–∞ –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏ (–º—Å) | 1000 |

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–∞–±–ª–∏—Ü –ë–î

#### 1. `listings` - –≥–ª–∞–≤–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ –æ–±—ä—è–≤–ª–µ–Ω–∏–π

```sql
CREATE TABLE listings (
  id INT AUTO_INCREMENT PRIMARY KEY,
  number VARCHAR(15) UNIQUE NOT NULL,      -- –ù–æ–º–µ—Ä –ê123–í–•77
  price INT,                                -- –¶–µ–Ω–∞ –≤ —Ä—É–±–ª—è—Ö
  region VARCHAR(100),                      -- –†–µ–≥–∏–æ–Ω (–∫–æ–¥ –∏–ª–∏ –Ω–∞–∑–≤–∞–Ω–∏–µ)
  status VARCHAR(50) DEFAULT 'active',      -- active, inactive
  datePosted DATETIME,                      -- –î–∞—Ç–∞ —Ä–∞–∑–º–µ—â–µ–Ω–∏—è
  dateUpdated DATETIME,                     -- –î–∞—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
  seller VARCHAR(255),                      -- –§–ò–û –ø—Ä–æ–¥–∞–≤—Ü–∞
  url VARCHAR(500) UNIQUE,                  -- –°—Å—ã–ª–∫–∞ –Ω–∞ –æ–±—ä—è–≤–ª–µ–Ω–∏–µ
  parsedAt DATETIME DEFAULT CURRENT_TIMESTAMP,
  updatedAt DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,

  INDEX idx_region (region),
  INDEX idx_status (status),
  INDEX idx_updatedAt (updatedAt),
  INDEX idx_price (price)
);
```

#### 2. `parse_sessions` - —Å–µ—Å—Å–∏–∏ –ø–∞—Ä—Å–∏–Ω–≥–∞

```sql
CREATE TABLE parse_sessions (
  id VARCHAR(36) PRIMARY KEY,
  startedAt DATETIME DEFAULT CURRENT_TIMESTAMP,
  completedAt DATETIME NULL,
  status VARCHAR(50) DEFAULT 'running',     -- running, completed, failed
  totalItems INT DEFAULT 0,
  newItems INT DEFAULT 0,
  updatedItems INT DEFAULT 0,
  params JSON,                               -- –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–∞—Ä—Å–∏–Ω–≥–∞
  error TEXT,

  INDEX idx_status (status),
  INDEX idx_startedAt (startedAt)
);
```

#### 3. `cron_logs` - –ª–æ–≥–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π

```sql
CREATE TABLE cron_logs (
  id INT AUTO_INCREMENT PRIMARY KEY,
  scheduledTime DATETIME,
  startedAt DATETIME DEFAULT CURRENT_TIMESTAMP,
  completedAt DATETIME NULL,
  status VARCHAR(50) DEFAULT 'running',
  itemsProcessed INT DEFAULT 0,
  error TEXT,

  INDEX idx_startedAt (startedAt),
  INDEX idx_status (status)
);
```

---

## üåê API Endpoints

### –î–∞–Ω–Ω—ã–µ –∏–∑ –ë–î

#### `GET /api/data`
–ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è –∏–∑ –ë–î —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
```
?minPrice=0&maxPrice=999999999&region=77&limit=10000
```

**–û—Ç–≤–µ—Ç:**
```json
{
  "success": true,
  "count": 1500,
  "data": [
    {
      "id": 1,
      "number": "–ê123–í–•77",
      "price": 250000,
      "region": "77",
      "status": "active",
      "datePosted": "2024-01-15 10:30:00",
      "dateUpdated": "2024-01-20 15:45:00",
      "seller": "–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤",
      "url": "https://autonomera777.net/standart/12345",
      "updatedAt": "2024-01-20 15:45:00"
    }
  ]
}
```

#### `GET /api/statistics`
–ü–æ–ª—É—á–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø–æ –æ–±—ä—è–≤–ª–µ–Ω–∏—è–º

**–û—Ç–≤–µ—Ç:**
```json
{
  "success": true,
  "statistics": {
    "total": 5432,
    "regionsCount": 85,
    "sellersCount": 234,
    "avgPrice": 320000,
    "minPrice": 50000,
    "maxPrice": 1500000,
    "lastUpdate": "2024-01-20"
  }
}
```

#### `GET /api/export`
–≠–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –≤ CSV –∏–ª–∏ JSON

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
```
?format=csv&minPrice=0&maxPrice=500000&region=77
```

**–§–æ—Ä–º–∞—Ç—ã:**
- `format=csv` - CSV —Å UTF-8 BOM –¥–ª—è Excel
- `format=json` - JSON

### –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ë–î

#### `GET /api/db/status`
–°—Ç–∞—Ç—É—Å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ë–î

```json
{
  "success": true,
  "database": {
    "connected": true,
    "host": "localhost",
    "database": "autonomera777",
    "listingsCount": 5432,
    "completedSessions": 12
  }
}
```

#### `GET /api/parse-sessions`
–°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Å–µ—Å—Å–∏–π –ø–∞—Ä—Å–∏–Ω–≥–∞

```json
{
  "success": true,
  "sessions": [
    {
      "id": "parse-1234567890",
      "startedAt": "2024-01-20 10:00:00",
      "completedAt": "2024-01-20 10:45:00",
      "status": "completed",
      "totalItems": 2500,
      "newItems": 150,
      "updatedItems": 50
    }
  ]
}
```

#### `GET /api/cron-logs`
–õ–æ–≥–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π

```json
{
  "success": true,
  "logs": [
    {
      "id": 1,
      "scheduledTime": "2024-01-20 00:00:00",
      "startedAt": "2024-01-20 00:00:15",
      "completedAt": "2024-01-20 00:45:30",
      "status": "completed",
      "itemsProcessed": 5432,
      "error": null
    }
  ]
}
```

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã–º–∏

#### `DELETE /api/data/old`
–£–¥–∞–ª–∏—Ç—å —Å—Ç–∞—Ä—ã–µ –¥–∞–Ω–Ω—ã–µ

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
```
?days=30
```

#### `DELETE /api/data/clear`
–û—á–∏—Å—Ç–∏—Ç—å –≤—Å–µ –¥–∞–Ω–Ω—ã–µ (—Ç–æ–ª—å–∫–æ –≤ development!)

---

## üìÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

### –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫

1. **–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è**: –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ —Å–µ—Ä–≤–µ—Ä–∞
2. **–í—Ä–µ–º—è –∑–∞–ø—É—Å–∫–∞**: –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ `PARSER_TIME` –≤ .env (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 00:00)
3. **–ß–∞—Å–æ–≤–æ–π –ø–æ—è—Å**: –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `PARSER_TIMEZONE` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é Europe/Moscow)
4. **–í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ**:
   - –ü–∞—Ä—Å–µ—Ä –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –≤ —É–∫–∞–∑–∞–Ω–Ω–æ–µ –≤—Ä–µ–º—è
   - –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –ë–î
   - –°–æ–∑–¥–∞–µ—Ç—Å—è –∑–∞–ø–∏—Å—å –≤ `cron_logs`

### –ü—Ä–∏–º–µ—Ä—ã —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è

**–ï–∂–µ–¥–Ω–µ–≤–Ω–æ –≤ –ø–æ–ª–Ω–æ—á—å (00:00):**
```env
PARSER_TIME=00:00
PARSER_TIMEZONE=Europe/Moscow
```

**–ï–∂–µ–¥–Ω–µ–≤–Ω–æ –≤ 6:00 —É—Ç—Ä–∞:**
```env
PARSER_TIME=06:00
PARSER_TIMEZONE=Europe/Moscow
```

**–ï–∂–µ–¥–Ω–µ–≤–Ω–æ –≤ 18:00 (6 PM):**
```env
PARSER_TIME=18:00
PARSER_TIMEZONE=Europe/Moscow
```

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:

```bash
# –ü–æ—Å–ª–µ–¥–Ω–∏–µ 10 –∑–∞–ø—É—Å–∫–æ–≤ –ø–∞—Ä—Å–µ—Ä–∞
curl http://localhost:3000/api/cron-logs

# –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
curl http://localhost:3000/api/statistics

# –°—Ç–∞—Ç—É—Å –ë–î
curl http://localhost:3000/api/db/status
```

---

## üí° –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### 1. –ó–∞–ø—É—Å–∫ –ø–∞—Ä—Å–∏–Ω–≥–∞ –≤—Ä—É—á–Ω—É—é

```bash
# –ß–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
http://localhost:3000/run

# –ß–µ—Ä–µ–∑ API
curl -X POST http://localhost:3000/api/parse \
  -H "Content-Type: application/json" \
  -d '{
    "minPrice": 0,
    "maxPrice": 500000,
    "maxPages": 50
  }'
```

### 2. –ü–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö –¥–∞–Ω–Ω—ã—Ö –∏–∑ –ë–î

```bash
curl "http://localhost:3000/api/data?minPrice=100000&maxPrice=400000&region=77"
```

### 3. –≠–∫—Å–ø–æ—Ä—Ç –≤ CSV

```bash
curl "http://localhost:3000/api/export?format=csv&minPrice=0&maxPrice=500000" \
  -o autonomera777.csv
```

### 4. –≠–∫—Å–ø–æ—Ä—Ç –≤ JSON

```bash
curl "http://localhost:3000/api/export?format=json" \
  -o autonomera777.json
```

### 5. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏

```bash
curl http://localhost:3000/api/statistics
```

### 6. JavaScript –ø—Ä–∏–º–µ—Ä—ã

```javascript
// –ü–æ–ª—É—á–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
fetch('/api/statistics')
  .then(r => r.json())
  .then(data => console.log(data.statistics))

// –ü–æ–ª—É—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π
fetch('/api/data?minPrice=100000&maxPrice=500000&limit=100')
  .then(r => r.json())
  .then(data => {
    console.log(`–í—Å–µ–≥–æ –æ–±—ä—è–≤–ª–µ–Ω–∏–π: ${data.count}`);
    data.data.forEach(listing => {
      console.log(`${listing.number} - ${listing.price}‚ÇΩ`);
    });
  })

// –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ CSV
const downloadCSV = async () => {
  const response = await fetch('/api/export?format=csv');
  const blob = await response.blob();
  const url = window.URL.createObjectURL(blob);
  const a = document.createElement('a');
  a.href = url;
  a.download = 'autonomera777.csv';
  a.click();
}
```

---

## üîç –û—Ç–ª–∞–¥–∫–∞

### 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ë–î

```bash
# –°—Ç–∞—Ç—É—Å –ë–î
curl http://localhost:3000/api/db/status

# –î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å connected: true
```

### 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞

```bash
# –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –ª–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ
# –î–æ–ª–∂–Ω—ã –±—ã—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è –æ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞
```

### 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∞–±–ª–∏—Ü

```sql
-- MySQL –∫–æ–Ω—Å–æ–ª—å
USE autonomera777;
SHOW TABLES;
DESC listings;
SELECT COUNT(*) FROM listings;
```

### 4. –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ –ø–∞—Ä—Å–∏–Ω–≥–∞

```bash
# –í—Å–µ —Å–µ—Å—Å–∏–∏ –ø–∞—Ä—Å–∏–Ω–≥–∞
curl http://localhost:3000/api/parse-sessions

# –õ–æ–≥–∏ –∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–π
curl http://localhost:3000/api/cron-logs
```

### 5. –ü—Ä–æ–≤–µ—Ä–∫–∞ .env —Ñ–∞–π–ª–∞

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `.env` –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞ —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏:

```bash
# Linux/Mac
cat .env

# Windows PowerShell
Get-Content .env
```

### 6. –ß–∞—Å—Ç–æ –≤—Å—Ç—Ä–µ—á–∞—é—â–∏–µ—Å—è –ø—Ä–æ–±–ª–µ–º—ã

**–û—à–∏–±–∫–∞: "ECONNREFUSED 127.0.0.1:3306"**
- MySQL –Ω–µ –∑–∞–ø—É—â–µ–Ω
- –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –≤ .env
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ DB_HOST, DB_PORT, DB_USER, DB_PASSWORD

**–û—à–∏–±–∫–∞: "Unknown database 'autonomera777'"**
- –ë–î –Ω–µ —Å–æ–∑–¥–∞–Ω–∞
- –í—ã–ø–æ–ª–Ω–∏—Ç–µ: `CREATE DATABASE autonomera777;`

**–ü–∞—Ä—Å–∏–Ω–≥ –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ PARSER_TIME —Ñ–æ—Ä–º–∞—Ç (HH:MM)
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ PARSER_TIMEZONE
- –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –ª–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞ –ø—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏

**–î–∞–Ω–Ω—ã–µ –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –ë–î**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ DB_USER
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ç–∞–±–ª–∏—Ü—ã —Å–æ–∑–¥–∞–Ω—ã
- –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –ª–æ–≥–∏ –æ—à–∏–±–æ–∫ –≤ –∫–æ–Ω—Å–æ–ª–∏

---

## üìä –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    WEB CLIENT                           ‚îÇ
‚îÇ              (–ë—Ä–∞—É–∑–µ—Ä / API –∫–ª–∏–µ–Ω—Ç)                     ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                     ‚îÇ
                     ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ              EXPRESS –°–ï–†–í–ï–† (Node.js)                   ‚îÇ
‚îÇ  - –û–±—Ä–∞–±–æ—Ç–∫–∞ HTTP –∑–∞–ø—Ä–æ—Å–æ–≤                              ‚îÇ
‚îÇ  - REST API endpoints                                   ‚îÇ
‚îÇ  - –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å                                        ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                     ‚îÇ
        ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
        ‚îÇ            ‚îÇ            ‚îÇ
        ‚ñº            ‚ñº            ‚ñº
    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
    ‚îÇPARSER   ‚îÇ ‚îÇSCHEDULER ‚îÇ ‚îÇ API-DB     ‚îÇ
    ‚îÇ(parser- ‚îÇ ‚îÇ(cron)    ‚îÇ ‚îÇ ROUTES     ‚îÇ
    ‚îÇdb.js)   ‚îÇ ‚îÇ          ‚îÇ ‚îÇ            ‚îÇ
    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚îÇ            ‚îÇ            ‚îÇ
         ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                      ‚îÇ
                      ‚ñº
        ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
        ‚îÇ     MYSQL/MARIADB –ë–î            ‚îÇ
        ‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê   ‚îÇ
        ‚îÇ  ‚îÇ  listings               ‚îÇ   ‚îÇ
        ‚îÇ  ‚îÇ  parse_sessions         ‚îÇ   ‚îÇ
        ‚îÇ  ‚îÇ  cron_logs              ‚îÇ   ‚îÇ
        ‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   ‚îÇ
        ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## ‚úÖ –ß–µ–∫-–ª–∏—Å—Ç —É—Å—Ç–∞–Ω–æ–≤–∫–∏

- [ ] Node.js 14+ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
- [ ] MySQL/MariaDB —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∏ –∑–∞–ø—É—â–µ–Ω
- [ ] `npm install` –≤—ã–ø–æ–ª–Ω–µ–Ω
- [ ] `.env` —Ñ–∞–π–ª —Å–æ–∑–¥–∞–Ω –∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- [ ] –ë–î `autonomera777` —Å–æ–∑–¥–∞–Ω–∞
- [ ] `npm start` —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ –æ—à–∏–±–æ–∫
- [ ] http://localhost:3000 –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è
- [ ] `/api/db/status` –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç connected: true
- [ ] `/api/statistics` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ

---

–ì–æ—Ç–æ–≤–æ! üéâ –°–∏—Å—Ç–µ–º–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ –∏ –≥–æ—Ç–æ–≤–∞ –∫ —Ä–∞–±–æ—Ç–µ.
